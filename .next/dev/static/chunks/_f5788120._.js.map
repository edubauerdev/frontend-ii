{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Verifica se uma cor hexadecimal é clara (para usar texto escuro) ou escura (para usar texto claro)\r\n */\r\nexport function isColorLight(hexColor: string): boolean {\r\n  const hex = hexColor.replace(\"#\", \"\")\r\n  const r = Number.parseInt(hex.substr(0, 2), 16)\r\n  const g = Number.parseInt(hex.substr(2, 2), 16)\r\n  const b = Number.parseInt(hex.substr(4, 2), 16)\r\n\r\n  // Calcula a luminância relativa\r\n  const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255\r\n\r\n  return luminance > 0.55 // Threshold mais baixo para capturar mais cores claras (antes era 0.7)\r\n}\r\n\r\n/**\r\n * Retorna a cor do texto adequada para um fundo de cor hexadecimal\r\n */\r\nexport function getContrastTextColor(hexColor: string): string {\r\n  return isColorLight(hexColor) ? \"#000000\" : \"#ffffff\"\r\n}\r\n\r\n/**\r\n * Formata um número de telefone no padrão brasileiro\r\n * Exemplo: 5551989269053 -> +55 (51) 98926-9053\r\n */\r\nexport function formatPhoneNumber(phone: string): string {\r\n  if (!phone) return \"\"\r\n  \r\n  // Remove sufixos do WhatsApp (ex: @c.us, @s.whatsapp.net)\r\n  const cleanPhone = phone.replace(/@.*$/, \"\").replace(/:\\d+$/, \"\").replace(/\\D/g, \"\")\r\n\r\n  if (cleanPhone.startsWith(\"55\")) {\r\n    const withoutCountryCode = cleanPhone.substring(2)\r\n\r\n    if (withoutCountryCode.length === 10) {\r\n      // Telefone fixo ou celular antigo (sem o 9)\r\n      const ddd = withoutCountryCode.substring(0, 2)\r\n      const number = withoutCountryCode.substring(2)\r\n      return `+55 (${ddd}) ${number.substring(0, 4)}-${number.substring(4)}`\r\n    } else if (withoutCountryCode.length === 11) {\r\n      // Celular com 9\r\n      const ddd = withoutCountryCode.substring(0, 2)\r\n      return `+55 (${ddd}) ${withoutCountryCode.substring(2, 7)}-${withoutCountryCode.substring(7)}`\r\n    }\r\n  }\r\n  \r\n  // Se não for BR ou formato desconhecido, retorna com +\r\n  return cleanPhone.startsWith(\"+\") ? cleanPhone : `+${cleanPhone}`\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAKO,SAAS,aAAa,QAAgB;IAC3C,MAAM,MAAM,SAAS,OAAO,CAAC,KAAK;IAClC,MAAM,IAAI,OAAO,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAC5C,MAAM,IAAI,OAAO,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAC5C,MAAM,IAAI,OAAO,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAE5C,gCAAgC;IAChC,MAAM,YAAY,CAAC,QAAQ,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI;IAExD,OAAO,YAAY,KAAK,uEAAuE;;AACjG;AAKO,SAAS,qBAAqB,QAAgB;IACnD,OAAO,aAAa,YAAY,YAAY;AAC9C;AAMO,SAAS,kBAAkB,KAAa;IAC7C,IAAI,CAAC,OAAO,OAAO;IAEnB,0DAA0D;IAC1D,MAAM,aAAa,MAAM,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,SAAS,IAAI,OAAO,CAAC,OAAO;IAEjF,IAAI,WAAW,UAAU,CAAC,OAAO;QAC/B,MAAM,qBAAqB,WAAW,SAAS,CAAC;QAEhD,IAAI,mBAAmB,MAAM,KAAK,IAAI;YACpC,4CAA4C;YAC5C,MAAM,MAAM,mBAAmB,SAAS,CAAC,GAAG;YAC5C,MAAM,SAAS,mBAAmB,SAAS,CAAC;YAC5C,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,SAAS,CAAC,IAAI;QACxE,OAAO,IAAI,mBAAmB,MAAM,KAAK,IAAI;YAC3C,gBAAgB;YAChB,MAAM,MAAM,mBAAmB,SAAS,CAAC,GAAG;YAC5C,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE,mBAAmB,SAAS,CAAC,GAAG,GAAG,CAAC,EAAE,mBAAmB,SAAS,CAAC,IAAI;QAChG;IACF;IAEA,uDAAuD;IACvD,OAAO,WAAW,UAAU,CAAC,OAAO,aAAa,CAAC,CAAC,EAAE,YAAY;AACnE","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/avatar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nconst AvatarImage = React.memo(({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) => {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\r\n        'aspect-square size-full object-cover',\r\n        '[backface-visibility:hidden]',\r\n        '[transform:translateZ(0)]',\r\n        '[will-change:auto]',\r\n        className\r\n      )}\r\n      loading=\"eager\"\r\n      {...props}\r\n    />\r\n  )\r\n}, (prevProps, nextProps) => {\r\n  // Só re-renderiza se src, alt ou className mudaram\r\n  return (\r\n    prevProps.src === nextProps.src &&\r\n    prevProps.alt === nextProps.alt &&\r\n    prevProps.className === nextProps.className\r\n  )\r\n})\r\nAvatarImage.displayName = 'AvatarImage'\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  delayMs = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      delayMs={delayMs}\r\n      className={cn(\r\n        'bg-muted flex size-full items-center justify-center rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,MAAM,4BAAc,qKAAU,OAAC,CAAC,EAC9B,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wCACA,gCACA,6BACA,sBACA;QAEF,SAAQ;QACP,GAAG,KAAK;;;;;;AAGf,GAAG,CAAC,WAAW;IACb,mDAAmD;IACnD,OACE,UAAU,GAAG,KAAK,UAAU,GAAG,IAC/B,UAAU,GAAG,KAAK,UAAU,GAAG,IAC/B,UAAU,SAAS,KAAK,UAAU,SAAS;AAE/C;;AACA,YAAY,WAAW,GAAG;AAE1B,SAAS,eAAe,EACtB,SAAS,EACT,UAAU,CAAC,EACX,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,SAAS;QACT,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAhBS","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/contexts/sidebar-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react'\r\n\r\ninterface SidebarContextType {\r\n  isCollapsed: boolean\r\n  setIsCollapsed: (value: boolean) => void\r\n  toggleCollapse: () => void\r\n}\r\n\r\nconst SidebarContext = createContext<SidebarContextType | undefined>(undefined)\r\n\r\nexport function SidebarProvider({ children }: { children: React.ReactNode }) {\r\n  const [isCollapsed, setIsCollapsedState] = useState(false)\r\n  const [isMounted, setIsMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('sidebar-collapsed')\r\n    if (saved !== null) {\r\n      setIsCollapsedState(saved === 'true')\r\n    }\r\n    setIsMounted(true)\r\n  }, [])\r\n\r\n  const setIsCollapsed = (value: boolean) => {\r\n    setIsCollapsedState(value)\r\n    localStorage.setItem('sidebar-collapsed', value.toString())\r\n  }\r\n\r\n  const toggleCollapse = () => {\r\n    setIsCollapsed(!isCollapsed)\r\n  }\r\n\r\n  // Avoid hydration mismatch by not rendering until mounted\r\n  if (!isMounted) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <SidebarContext.Provider value={{ isCollapsed, setIsCollapsed, toggleCollapse }}>\r\n      {children}\r\n    </SidebarContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useSidebar() {\r\n  const context = useContext(SidebarContext)\r\n  if (context === undefined) {\r\n    throw new Error('useSidebar must be used within a SidebarProvider')\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAUA,MAAM,+BAAiB,IAAA,8KAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;;IACzE,MAAM,CAAC,aAAa,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;qCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,UAAU,MAAM;gBAClB,oBAAoB,UAAU;YAChC;YACA,aAAa;QACf;oCAAG,EAAE;IAEL,MAAM,iBAAiB,CAAC;QACtB,oBAAoB;QACpB,aAAa,OAAO,CAAC,qBAAqB,MAAM,QAAQ;IAC1D;IAEA,MAAM,iBAAiB;QACrB,eAAe,CAAC;IAClB;IAEA,0DAA0D;IAC1D,IAAI,CAAC,WAAW;QACd,OAAO;IACT;IAEA,qBACE,6LAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAa;YAAgB;QAAe;kBAC3E;;;;;;AAGP;GA/BgB;KAAA;AAiCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6LAAC;kBACC,cAAA,6LAAC,8KAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,iLAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,+KAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS","debugId":null}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/Sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { Settings, ChevronLeft, ChevronRight, ChevronDown, Users, Radio } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport { useUser } from \"@/contexts/user-context\"\r\nimport { useSidebar } from \"@/contexts/sidebar-context\"\r\n// import { useWhatsApp } from \"@/contexts/whatsapp-context\" // Removido para usar direto do banco\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\r\nimport { createClient } from \"@/lib/supabase/client\" // ✅ Importando Supabase\r\n\r\nconst FolderClosedIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className=\"w-5 h-5\"\r\n  >\r\n    <path d=\"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z\" />\r\n  </svg>\r\n)\r\n\r\nconst FolderOpenIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className=\"w-5 h-5\"\r\n  >\r\n    <path d=\"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\" />\r\n  </svg>\r\n)\r\n\r\nconst BookMarkedIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className=\"w-5 h-5\"\r\n  >\r\n    <path d=\"M10 2v8l3-3 3 3V2\" />\r\n    <path d=\"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20\" />\r\n  </svg>\r\n)\r\n\r\nconst DatabaseIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className=\"w-5 h-5\"\r\n  >\r\n    <ellipse cx=\"12\" cy=\"5\" rx=\"9\" ry=\"3\" />\r\n    <path d=\"M3 5V19A9 3 0 0 0 21 19V5\" />\r\n    <path d=\"M3 12A9 3 0 0 0 21 12\" />\r\n  </svg>\r\n)\r\nconst UsersIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className=\"w-5 h-5\"\r\n  >\r\n    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" />\r\n    <circle cx=\"9\" cy=\"7\" r=\"4\" />\r\n    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\" />\r\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\r\n  </svg>\r\n)\r\n\r\n// Ícone Verde para Conectado\r\nconst WhatsAppIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"#22c55e\" // Verde\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\r\n  </svg>\r\n)\r\n\r\n// Ícone Radio Verde Pulsando para Syncing\r\nconst WhatsAppSyncingIcon = () => (\r\n  <Radio className=\"w-5 h-5 text-green-500 animate-pulse\" />\r\n)\r\n\r\n// Ícone Vermelho/Padrão para Desconectado\r\nconst WhatsAppDisconnectedIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\" // Usa a cor do texto (cinza/branco)\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M19 19H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.7.7 0 0 1 2 21.286V5a2 2 0 0 1 1.184-1.826\" />\r\n    <path d=\"m2 2 20 20\" />\r\n    <path d=\"M8.656 3H20a2 2 0 0 1 2 2v11.344\" />\r\n  </svg>\r\n)\r\n\r\nconst menuItems = [\r\n  {\r\n    icon: () => (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"20\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z\" />\r\n        <path d=\"M21.21 15.89A10 10 0 1 1 8 2.83\" />\r\n      </svg>\r\n    ),\r\n    label: \"Visão Geral\",\r\n    href: \"/visao-geral\",\r\n  },\r\n  {\r\n    icon: () => (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"20\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z\" />\r\n        <path d=\"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6\" />\r\n      </svg>\r\n    ),\r\n    label: \"CRM\",\r\n    href: \"/crm\",\r\n  },\r\n  {\r\n    icon: \"whatsapp\",\r\n    label: \"WhatsApp\",\r\n    href: \"/whatsapp\",\r\n  },\r\n  {\r\n    icon: () => (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"20\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\" />\r\n        <path d=\"M14 2v5a1 1 0 0 0 1 1h5\" />\r\n        <path d=\"M10 9H8\" />\r\n        <path d=\"M16 13H8\" />\r\n        <path d=\"M16 17H8\" />\r\n      </svg>\r\n    ),\r\n    label: \"Gerar Documento\",\r\n    href: \"/gerar-documento\",\r\n  },\r\n]\r\n\r\nconst documentosSubmenu = [\r\n  {\r\n    label: \"Ordens\",\r\n    href: \"/ordens\",\r\n    icon: BookMarkedIcon,\r\n  },\r\n  {\r\n    label: \"Contratos\",\r\n    href: \"/contratos\",\r\n    icon: BookMarkedIcon,\r\n  },\r\n]\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n  const { user } = useUser()\r\n  const { isCollapsed, toggleCollapse } = useSidebar()\r\n  \r\n  // ✅ ESTADO LOCAL PARA CONEXÃO (Substituindo o contexto antigo)\r\n  const [isWhatsAppConnected, setIsWhatsAppConnected] = useState(false)\r\n  const [isWhatsAppSyncing, setIsWhatsAppSyncing] = useState(false)\r\n  const supabase = createClient()\r\n\r\n  // ✅ EFEITO: Escuta o status do banco em tempo real\r\n  useEffect(() => {\r\n    // 1. Busca status inicial\r\n    const fetchStatus = async () => {\r\n        const { data } = await supabase\r\n            .from(\"instance_settings\")\r\n            .select(\"status\")\r\n            .eq(\"id\", 1)\r\n            .single()\r\n        \r\n        const status = data?.status\r\n        setIsWhatsAppSyncing(status === \"syncing\")\r\n        // \"syncing\" também é considerado conectado\r\n        setIsWhatsAppConnected(status === \"connected\" || status === \"syncing\")\r\n    }\r\n    fetchStatus()\r\n\r\n    // 2. Escuta mudanças\r\n    const channel = supabase\r\n        .channel(\"sidebar_status\")\r\n        .on(\r\n            \"postgres_changes\",\r\n            { event: \"UPDATE\", schema: \"public\", table: \"instance_settings\", filter: \"id=eq.1\" },\r\n            (payload) => {\r\n                const status = payload.new.status\r\n                setIsWhatsAppSyncing(status === \"syncing\")\r\n                // \"syncing\" também é considerado conectado\r\n                setIsWhatsAppConnected(status === \"connected\" || status === \"syncing\")\r\n            }\r\n        )\r\n        .subscribe()\r\n\r\n    return () => {\r\n        supabase.removeChannel(channel)\r\n    }\r\n  }, [supabase])\r\n\r\n\r\n  const isInDocumentosSection = documentosSubmenu.some((sub) => pathname === sub.href)\r\n  const [isDocumentosOpen, setIsDocumentosOpen] = React.useState(isInDocumentosSection)\r\n  const [isDocumentosHovered, setIsDocumentosHovered] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    if (isInDocumentosSection) {\r\n      setIsDocumentosOpen(true)\r\n    }\r\n  }, [isInDocumentosSection])\r\n\r\n  const getFirstName = (fullName: string) => {\r\n    return fullName.split(\" \")[0]\r\n  }\r\n\r\n  const avatarSrc = React.useMemo(() => user?.foto_perfil || undefined, [user?.foto_perfil])\r\n  const avatarAlt = React.useMemo(() => user?.nome || \"\", [user?.nome])\r\n  const avatarFallback = React.useMemo(() => (user?.nome ? user.nome.charAt(0).toUpperCase() : \"?\"), [user?.nome])\r\n\r\n  const canAccessDatabase = user?.cargo === \"Administrador\" || user?.cargo === \"Desenvolvedor\"\r\n  const canAccessUsers = user?.cargo === \"Administrador\" || user?.cargo === \"Desenvolvedor\"\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <aside\r\n        className={cn(\r\n          \"fixed left-0 top-0 h-screen bg-neutral-900 text-neutral-200 p-4 flex flex-col transition-all duration-300 ease-in-out z-40\",\r\n          isCollapsed ? \"w-[56px]\" : \"w-[180px]\",\r\n        )}\r\n      >\r\n          <div className=\"absolute -right-3 top-6 z-10\">\r\n          <Button\r\n            size=\"icon\"\r\n            variant=\"outline\"\r\n            className=\"h-6 w-6 rounded-full bg-black/80 backdrop-blur-sm border-neutral-700 hover:bg-black shadow-lg\"\r\n            onClick={toggleCollapse}\r\n          >\r\n            {isCollapsed ? <ChevronRight className=\"w-5 h-5\" /> : <ChevronLeft className=\"w-5 h-5\" />}\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"mb-8\">\r\n          {!isCollapsed ? (\r\n            <>\r\n              <h1 className=\"text-xl font-bold text-white\">Sistema de OS</h1>\r\n              <p className=\"text-sm text-neutral-400 mt-1\">Gestão de Ordens</p>\r\n            </>\r\n          ) : (\r\n            <h1 className=\"text-xl font-bold text-white text-center\">OS</h1>\r\n          )}\r\n        </div>\r\n\r\n        {user && (\r\n          <div className={cn(\"mb-6 pb-6 border-b border-neutral-700\", isCollapsed && \"flex justify-center\")}>\r\n            {!isCollapsed ? (\r\n              <div className=\"flex items-center gap-3\">\r\n                <Avatar className=\"w-12 h-12 border-2 border-neutral-700\">\r\n                  <AvatarImage src={avatarSrc || \"/placeholder.svg\"} alt={avatarAlt} />\r\n                  {!user.foto_perfil && (\r\n                    <AvatarFallback className=\"bg-neutral-700 text-white\">{avatarFallback}</AvatarFallback>\r\n                  )}\r\n                </Avatar>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"text-sm font-medium text-white truncate\">{getFirstName(user.nome)}</p>\r\n                  <p className=\"text-xs text-neutral-400 truncate\">{user.email}</p>\r\n                  <p className=\"text-xs text-neutral-500 truncate\">{user.cargo}</p>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Avatar className=\"w-10 h-10 border-2 border-neutral-700\">\r\n                <AvatarImage src={avatarSrc || \"/placeholder.svg\"} alt={avatarAlt} />\r\n                {!user.foto_perfil && (\r\n                  <AvatarFallback className=\"bg-neutral-700 text-white\">{avatarFallback}</AvatarFallback>\r\n                )}\r\n              </Avatar>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        <nav className=\"space-y-2 flex-1\">\r\n          {menuItems.map((item) => {\r\n            const Icon =\r\n              item.icon === \"whatsapp\"\r\n                ? isWhatsAppSyncing\r\n                  ? WhatsAppSyncingIcon\r\n                  : isWhatsAppConnected\r\n                    ? WhatsAppIcon\r\n                    : WhatsAppDisconnectedIcon\r\n                : item.icon === \"googledrive\"\r\n                  ? null\r\n                  : item.icon\r\n            const isActive = pathname === item.href\r\n\r\n            const linkElement = (\r\n              <Link\r\n                key={item.href}\r\n                href={item.href}\r\n                className={cn(\r\n                  \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                  \"hover:bg-white/10\",\r\n                  isActive && \"bg-white/10 text-white font-medium\",\r\n                  isCollapsed && \"justify-center\",\r\n                )}\r\n              >\r\n                <span className=\"w-5 h-5 flex-shrink-0 flex items-center justify-center\">\r\n                  {typeof Icon === \"function\" ? <Icon /> : <Icon className=\"w-5 h-5\" />}\r\n                </span>\r\n                {!isCollapsed && <span>{item.label}</span>}\r\n              </Link>\r\n            )\r\n\r\n            if (isCollapsed) {\r\n              return (\r\n                <Tooltip key={item.href} delayDuration={0}>\r\n                  <TooltipTrigger asChild>{linkElement}</TooltipTrigger>\r\n                  <TooltipContent side=\"right\" className=\"ml-2\">\r\n                    <p>{item.label}</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              )\r\n            }\r\n\r\n            return linkElement\r\n          })}\r\n\r\n          <div>\r\n            {isCollapsed ? (\r\n              <Tooltip delayDuration={0}>\r\n                <TooltipTrigger asChild>\r\n                  <button\r\n                    onClick={() => setIsDocumentosOpen(!isDocumentosOpen)}\r\n                    onMouseEnter={() => setIsDocumentosHovered(true)}\r\n                    onMouseLeave={() => setIsDocumentosHovered(false)}\r\n                    className={cn(\r\n                      \"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                      \"hover:bg-white/10\",\r\n                      (isDocumentosOpen || isInDocumentosSection) && \"bg-white/10 text-white font-medium\",\r\n                      \"justify-center\",\r\n                    )}\r\n                  >\r\n                    <span className=\"w-5 h-5 flex-shrink-0\">\r\n                      {isDocumentosOpen || isDocumentosHovered ? <FolderOpenIcon /> : <FolderClosedIcon />}\r\n                    </span>\r\n                  </button>\r\n                </TooltipTrigger>\r\n                <TooltipContent side=\"right\" className=\"ml-2\">\r\n                  <p>Documentos</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            ) : (\r\n              <button\r\n                onClick={() => setIsDocumentosOpen(!isDocumentosOpen)}\r\n                onMouseEnter={() => setIsDocumentosHovered(true)}\r\n                onMouseLeave={() => setIsDocumentosHovered(false)}\r\n                className={cn(\r\n                  \"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                  \"hover:bg-white/10\",\r\n                  (isDocumentosOpen || isInDocumentosSection) && \"bg-white/10 text-white font-medium\",\r\n                )}\r\n              >\r\n                <span className=\"w-5 h-5 flex-shrink-0\">\r\n                  {isDocumentosOpen || isDocumentosHovered ? <FolderOpenIcon /> : <FolderClosedIcon />}\r\n                </span>\r\n                <span className=\"flex-1 text-left\">Documentos</span>\r\n                <ChevronDown className={cn(\"w-5 h-5 transition-transform\", isDocumentosOpen && \"rotate-180\")} />\r\n              </button>\r\n            )}\r\n\r\n            {isDocumentosOpen && (\r\n              <div className={cn(\"space-y-1\", isCollapsed ? \"mt-1\" : \"ml-8 mt-1\")}>\r\n                {documentosSubmenu.map((subItem) => {\r\n                  const isSubActive = pathname === subItem.href\r\n                  const SubIcon = subItem.icon\r\n\r\n                  if (isCollapsed) {\r\n                    return (\r\n                      <Tooltip key={subItem.href} delayDuration={0}>\r\n                        <TooltipTrigger asChild>\r\n                          <Link\r\n                            href={subItem.href}\r\n                            className={cn(\r\n                              \"flex items-center justify-center px-4 py-2 rounded-lg transition-all\",\r\n                              \"hover:bg-white/10\",\r\n                              isSubActive && \"bg-white/10 text-white font-medium\",\r\n                            )}\r\n                          >\r\n                            {SubIcon && (\r\n                                <span className=\"w-5 h-5 flex-shrink-0\">\r\n                                  <SubIcon />\r\n                                </span>\r\n                              )}\r\n                          </Link>\r\n                        </TooltipTrigger>\r\n                        <TooltipContent side=\"right\" className=\"ml-2\">\r\n                          <p>{subItem.label}</p>\r\n                        </TooltipContent>\r\n                      </Tooltip>\r\n                    )\r\n                  }\r\n\r\n                  return (\r\n                    <Link\r\n                      key={subItem.href}\r\n                      href={subItem.href}\r\n                      className={cn(\r\n                        \"flex items-center gap-3 px-4 py-2 rounded-lg transition-all text-sm\",\r\n                        \"hover:bg-white/10\",\r\n                        isSubActive && \"bg-white/10 text-white font-medium\",\r\n                      )}\r\n                    >\r\n                      {SubIcon && (\r\n                        <span className=\"w-5 h-5 flex-shrink-0\">\r\n                          <SubIcon />\r\n                        </span>\r\n                      )}\r\n                      <span>{subItem.label}</span>\r\n                    </Link>\r\n                  )\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {canAccessDatabase && (\r\n            <>\r\n              {isCollapsed ? (\r\n                <Tooltip delayDuration={0}>\r\n                  <TooltipTrigger asChild>\r\n                    <Link\r\n                      href=\"/banco-de-dados\"\r\n                      className={cn(\r\n                        \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                        \"hover:bg-white/10\",\r\n                        (pathname === \"/banco-de-dados\" || pathname.startsWith(\"/banco-de-dados/\")) &&\r\n                          \"bg-white/10 text-white font-medium\",\r\n                        \"justify-center\",\r\n                      )}\r\n                    >\r\n                      <span className=\"w-5 h-5 flex-shrink-0\">\r\n                        <DatabaseIcon />\r\n                      </span>\r\n                    </Link>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent side=\"right\" className=\"ml-2\">\r\n                    <p>Banco de Dados</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              ) : (\r\n                <Link\r\n                  href=\"/banco-de-dados\"\r\n                  className={cn(\r\n                    \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                    \"hover:bg-white/10\",\r\n                    (pathname === \"/banco-de-dados\" || pathname.startsWith(\"/banco-de-dados/\")) &&\r\n                      \"bg-white/10 text-white font-medium\",\r\n                  )}\r\n                >\r\n                  <span className=\"w-5 h-5 flex-shrink-0\">\r\n                    <DatabaseIcon />\r\n                  </span>\r\n                  <span>Banco de Dados</span>\r\n                </Link>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {canAccessUsers && (\r\n            <>\r\n              {isCollapsed ? (\r\n                <Tooltip delayDuration={0}>\r\n                  <TooltipTrigger asChild>\r\n                    <Link\r\n                      href=\"/usuarios\"\r\n                      className={cn(\r\n                        \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                        \"hover:bg-white/10\",\r\n                        pathname === \"/usuarios\" && \"bg-white/10 text-white font-medium\",\r\n                        \"justify-center\",\r\n                      )}\r\n                    >\r\n                      <span className=\"w-5 h-5 flex-shrink-0\">\r\n                        <Users className=\"w-5 h-5\" />\r\n                      </span>\r\n                    </Link>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent side=\"right\" className=\"ml-2\">\r\n                    <p>Usuários</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              ) : (\r\n                <Link\r\n                  href=\"/usuarios\"\r\n                  className={cn(\r\n                    \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                    \"hover:bg-white/10\",\r\n                    pathname === \"/usuarios\" && \"bg-white/10 text-white font-medium\",\r\n                  )}\r\n                >\r\n                  <span className=\"w-5 h-5 flex-shrink-0\">\r\n                    <Users className=\"w-5 h-5\" />\r\n                  </span>\r\n                  <span>Usuários</span>\r\n                </Link>\r\n              )}\r\n            </>\r\n          )}\r\n        </nav>\r\n\r\n        <div className=\"pt-4 border-t border-neutral-700 space-y-2\">\r\n          {isCollapsed ? (\r\n            <Tooltip delayDuration={0}>\r\n              <TooltipTrigger asChild>\r\n                <Link\r\n                  href=\"/ajustes\"\r\n                  className={cn(\r\n                    \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                    \"hover:bg-white/10\",\r\n                    pathname === \"/ajustes\" && \"bg-white/10 text-white font-medium\",\r\n                    \"justify-center\",\r\n                  )}\r\n                >\r\n                  <Settings className=\"w-5 h-5 flex-shrink-0\" />\r\n                </Link>\r\n              </TooltipTrigger>\r\n              <TooltipContent side=\"right\" className=\"ml-2\">\r\n                <p>Ajustes</p>\r\n              </TooltipContent>\r\n            </Tooltip>\r\n          ) : (\r\n            <Link\r\n              href=\"/ajustes\"\r\n              className={cn(\r\n                \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all\",\r\n                \"hover:bg-white/10\",\r\n                pathname === \"/ajustes\" && \"bg-white/10 text-white font-medium\",\r\n              )}\r\n            >\r\n              <Settings className=\"w-5 h-5 flex-shrink-0\" />\r\n              <span>Ajustes</span>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </aside>\r\n    </TooltipProvider>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,kGAAkG;AAClG;AACA;AACA;AACA,0NAAqD,wBAAwB;;;AAb7E;;;;;;;;;;;;AAeA,MAAM,mBAAmB,kBACvB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAU;kBAEV,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;KAbN;AAiBN,MAAM,iBAAiB,kBACrB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAU;kBAEV,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;MAbN;AAiBN,MAAM,iBAAiB,kBACrB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAU;;0BAEV,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;MAdN;AAkBN,MAAM,eAAe,kBACnB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAU;;0BAEV,6LAAC;gBAAQ,IAAG;gBAAK,IAAG;gBAAI,IAAG;gBAAI,IAAG;;;;;;0BAClC,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;MAfN;AAkBN,MAAM,YAAY,kBAChB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,WAAU;;0BAEV,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAO,IAAG;gBAAI,IAAG;gBAAI,GAAE;;;;;;0BACxB,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;MAhBN;AAoBN,6BAA6B;AAC7B,MAAM,eAAe,kBACnB,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;kBAEf,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;MAZN;AAgBN,0CAA0C;AAC1C,MAAM,sBAAsB,kBAC1B,6LAAC,gNAAK;QAAC,WAAU;;;;;;MADb;AAIN,0CAA0C;AAC1C,MAAM,2BAA2B,kBAC/B,6LAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;;0BAEf,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;MAdN;AAkBN,MAAM,YAAY;IAChB;QACE,MAAM,kBACJ,6LAAC;gBACC,OAAM;gBACN,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,aAAY;gBACZ,eAAc;gBACd,gBAAe;;kCAEf,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;;;;;;;QAGZ,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM,kBACJ,6LAAC;gBACC,OAAM;gBACN,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,aAAY;gBACZ,eAAc;gBACd,gBAAe;;kCAEf,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;;;;;;;QAGZ,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM,kBACJ,6LAAC;gBACC,OAAM;gBACN,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,aAAY;gBACZ,eAAc;gBACd,gBAAe;;kCAEf,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;kCACR,6LAAC;wBAAK,GAAE;;;;;;;;;;;;QAGZ,OAAO;QACP,MAAM;IACR;CACD;AAED,MAAM,oBAAoB;IACxB;QACE,OAAO;QACP,MAAM;QACN,MAAM;IACR;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM;IACR;CACD;AAEM,SAAS;;IACd,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAO;IACxB,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,gJAAU;IAElD,+DAA+D;IAC/D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC;IAC/D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,WAAW,IAAA,4IAAY;IAE7B,mDAAmD;IACnD,IAAA,0KAAS;6BAAC;YACR,0BAA0B;YAC1B,MAAM;iDAAc;oBAChB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAClB,IAAI,CAAC,qBACL,MAAM,CAAC,UACP,EAAE,CAAC,MAAM,GACT,MAAM;oBAEX,MAAM,SAAS,MAAM;oBACrB,qBAAqB,WAAW;oBAChC,2CAA2C;oBAC3C,uBAAuB,WAAW,eAAe,WAAW;gBAChE;;YACA;YAEA,qBAAqB;YACrB,MAAM,UAAU,SACX,OAAO,CAAC,kBACR,EAAE,CACC,oBACA;gBAAE,OAAO;gBAAU,QAAQ;gBAAU,OAAO;gBAAqB,QAAQ;YAAU;6CACnF,CAAC;oBACG,MAAM,SAAS,QAAQ,GAAG,CAAC,MAAM;oBACjC,qBAAqB,WAAW;oBAChC,2CAA2C;oBAC3C,uBAAuB,WAAW,eAAe,WAAW;gBAChE;4CAEH,SAAS;YAEd;qCAAO;oBACH,SAAS,aAAa,CAAC;gBAC3B;;QACF;4BAAG;QAAC;KAAS;IAGb,MAAM,wBAAwB,kBAAkB,IAAI,CAAC,CAAC,MAAQ,aAAa,IAAI,IAAI;IACnF,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAC/D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAErE,wKAAK,CAAC,SAAS;6BAAC;YACd,IAAI,uBAAuB;gBACzB,oBAAoB;YACtB;QACF;4BAAG;QAAC;KAAsB;IAE1B,MAAM,eAAe,CAAC;QACpB,OAAO,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;IAC/B;IAEA,MAAM,YAAY,wKAAK,CAAC,OAAO;sCAAC,IAAM,MAAM,eAAe;qCAAW;QAAC,MAAM;KAAY;IACzF,MAAM,YAAY,wKAAK,CAAC,OAAO;sCAAC,IAAM,MAAM,QAAQ;qCAAI;QAAC,MAAM;KAAK;IACpE,MAAM,iBAAiB,wKAAK,CAAC,OAAO;2CAAC,IAAO,MAAM,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;0CAAM;QAAC,MAAM;KAAK;IAE/G,MAAM,oBAAoB,MAAM,UAAU,mBAAmB,MAAM,UAAU;IAC7E,MAAM,iBAAiB,MAAM,UAAU,mBAAmB,MAAM,UAAU;IAE1E,qBACE,6LAAC,kJAAe;kBACd,cAAA,6LAAC;YACC,WAAW,IAAA,qHAAE,EACX,8HACA,cAAc,aAAa;;8BAG3B,6LAAC;oBAAI,WAAU;8BACf,cAAA,6LAAC,wIAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,WAAU;wBACV,SAAS;kCAER,4BAAc,6LAAC,yOAAY;4BAAC,WAAU;;;;;iDAAe,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;8BAIjF,6LAAC;oBAAI,WAAU;8BACZ,CAAC,4BACA;;0CACE,6LAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;;qDAG/C,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;;;;;;gBAI5D,sBACC,6LAAC;oBAAI,WAAW,IAAA,qHAAE,EAAC,yCAAyC,eAAe;8BACxE,CAAC,4BACA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,wIAAM;gCAAC,WAAU;;kDAChB,6LAAC,6IAAW;wCAAC,KAAK,aAAa;wCAAoB,KAAK;;;;;;oCACvD,CAAC,KAAK,WAAW,kBAChB,6LAAC,gJAAc;wCAAC,WAAU;kDAA6B;;;;;;;;;;;;0CAG3D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAA2C,aAAa,KAAK,IAAI;;;;;;kDAC9E,6LAAC;wCAAE,WAAU;kDAAqC,KAAK,KAAK;;;;;;kDAC5D,6LAAC;wCAAE,WAAU;kDAAqC,KAAK,KAAK;;;;;;;;;;;;;;;;;6CAIhE,6LAAC,wIAAM;wBAAC,WAAU;;0CAChB,6LAAC,6IAAW;gCAAC,KAAK,aAAa;gCAAoB,KAAK;;;;;;4BACvD,CAAC,KAAK,WAAW,kBAChB,6LAAC,gJAAc;gCAAC,WAAU;0CAA6B;;;;;;;;;;;;;;;;;8BAOjE,6LAAC;oBAAI,WAAU;;wBACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OACJ,KAAK,IAAI,KAAK,aACV,oBACE,sBACA,sBACE,eACA,2BACJ,KAAK,IAAI,KAAK,gBACZ,OACA,KAAK,IAAI;4BACjB,MAAM,WAAW,aAAa,KAAK,IAAI;4BAEvC,MAAM,4BACJ,6LAAC,0KAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,YAAY,sCACZ,eAAe;;kDAGjB,6LAAC;wCAAK,WAAU;kDACb,OAAO,SAAS,2BAAa,6LAAC;;;;iEAAU,6LAAC;4CAAK,WAAU;;;;;;;;;;;oCAE1D,CAAC,6BAAe,6LAAC;kDAAM,KAAK,KAAK;;;;;;;+BAZ7B,KAAK,IAAI;;;;;4BAgBlB,IAAI,aAAa;gCACf,qBACE,6LAAC,0IAAO;oCAAiB,eAAe;;sDACtC,6LAAC,iJAAc;4CAAC,OAAO;sDAAE;;;;;;sDACzB,6LAAC,iJAAc;4CAAC,MAAK;4CAAQ,WAAU;sDACrC,cAAA,6LAAC;0DAAG,KAAK,KAAK;;;;;;;;;;;;mCAHJ,KAAK,IAAI;;;;;4BAO3B;4BAEA,OAAO;wBACT;sCAEA,6LAAC;;gCACE,4BACC,6LAAC,0IAAO;oCAAC,eAAe;;sDACtB,6LAAC,iJAAc;4CAAC,OAAO;sDACrB,cAAA,6LAAC;gDACC,SAAS,IAAM,oBAAoB,CAAC;gDACpC,cAAc,IAAM,uBAAuB;gDAC3C,cAAc,IAAM,uBAAuB;gDAC3C,WAAW,IAAA,qHAAE,EACX,sEACA,qBACA,CAAC,oBAAoB,qBAAqB,KAAK,sCAC/C;0DAGF,cAAA,6LAAC;oDAAK,WAAU;8DACb,oBAAoB,oCAAsB,6LAAC;;;;6EAAoB,6LAAC;;;;;;;;;;;;;;;;;;;;sDAIvE,6LAAC,iJAAc;4CAAC,MAAK;4CAAQ,WAAU;sDACrC,cAAA,6LAAC;0DAAE;;;;;;;;;;;;;;;;yDAIP,6LAAC;oCACC,SAAS,IAAM,oBAAoB,CAAC;oCACpC,cAAc,IAAM,uBAAuB;oCAC3C,cAAc,IAAM,uBAAuB;oCAC3C,WAAW,IAAA,qHAAE,EACX,sEACA,qBACA,CAAC,oBAAoB,qBAAqB,KAAK;;sDAGjD,6LAAC;4CAAK,WAAU;sDACb,oBAAoB,oCAAsB,6LAAC;;;;qEAAoB,6LAAC;;;;;;;;;;sDAEnE,6LAAC;4CAAK,WAAU;sDAAmB;;;;;;sDACnC,6LAAC,sOAAW;4CAAC,WAAW,IAAA,qHAAE,EAAC,gCAAgC,oBAAoB;;;;;;;;;;;;gCAIlF,kCACC,6LAAC;oCAAI,WAAW,IAAA,qHAAE,EAAC,aAAa,cAAc,SAAS;8CACpD,kBAAkB,GAAG,CAAC,CAAC;wCACtB,MAAM,cAAc,aAAa,QAAQ,IAAI;wCAC7C,MAAM,UAAU,QAAQ,IAAI;wCAE5B,IAAI,aAAa;4CACf,qBACE,6LAAC,0IAAO;gDAAoB,eAAe;;kEACzC,6LAAC,iJAAc;wDAAC,OAAO;kEACrB,cAAA,6LAAC,0KAAI;4DACH,MAAM,QAAQ,IAAI;4DAClB,WAAW,IAAA,qHAAE,EACX,wEACA,qBACA,eAAe;sEAGhB,yBACG,6LAAC;gEAAK,WAAU;0EACd,cAAA,6LAAC;;;;;;;;;;;;;;;;;;;;kEAKX,6LAAC,iJAAc;wDAAC,MAAK;wDAAQ,WAAU;kEACrC,cAAA,6LAAC;sEAAG,QAAQ,KAAK;;;;;;;;;;;;+CAlBP,QAAQ,IAAI;;;;;wCAsB9B;wCAEA,qBACE,6LAAC,0KAAI;4CAEH,MAAM,QAAQ,IAAI;4CAClB,WAAW,IAAA,qHAAE,EACX,uEACA,qBACA,eAAe;;gDAGhB,yBACC,6LAAC;oDAAK,WAAU;8DACd,cAAA,6LAAC;;;;;;;;;;8DAGL,6LAAC;8DAAM,QAAQ,KAAK;;;;;;;2CAbf,QAAQ,IAAI;;;;;oCAgBvB;;;;;;;;;;;;wBAKL,mCACC;sCACG,4BACC,6LAAC,0IAAO;gCAAC,eAAe;;kDACtB,6LAAC,iJAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,0KAAI;4CACH,MAAK;4CACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,CAAC,aAAa,qBAAqB,SAAS,UAAU,CAAC,mBAAmB,KACxE,sCACF;sDAGF,cAAA,6LAAC;gDAAK,WAAU;0DACd,cAAA,6LAAC;;;;;;;;;;;;;;;;;;;;kDAIP,6LAAC,iJAAc;wCAAC,MAAK;wCAAQ,WAAU;kDACrC,cAAA,6LAAC;sDAAE;;;;;;;;;;;;;;;;qDAIP,6LAAC,0KAAI;gCACH,MAAK;gCACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,CAAC,aAAa,qBAAqB,SAAS,UAAU,CAAC,mBAAmB,KACxE;;kDAGJ,6LAAC;wCAAK,WAAU;kDACd,cAAA,6LAAC;;;;;;;;;;kDAEH,6LAAC;kDAAK;;;;;;;;;;;;;wBAMb,gCACC;sCACG,4BACC,6LAAC,0IAAO;gCAAC,eAAe;;kDACtB,6LAAC,iJAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,0KAAI;4CACH,MAAK;4CACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,aAAa,eAAe,sCAC5B;sDAGF,cAAA,6LAAC;gDAAK,WAAU;0DACd,cAAA,6LAAC,gNAAK;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;kDAIvB,6LAAC,iJAAc;wCAAC,MAAK;wCAAQ,WAAU;kDACrC,cAAA,6LAAC;sDAAE;;;;;;;;;;;;;;;;qDAIP,6LAAC,0KAAI;gCACH,MAAK;gCACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,aAAa,eAAe;;kDAG9B,6LAAC;wCAAK,WAAU;kDACd,cAAA,6LAAC,gNAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,6LAAC;kDAAK;;;;;;;;;;;;;;;;;;;8BAOhB,6LAAC;oBAAI,WAAU;8BACZ,4BACC,6LAAC,0IAAO;wBAAC,eAAe;;0CACtB,6LAAC,iJAAc;gCAAC,OAAO;0CACrB,cAAA,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,aAAa,cAAc,sCAC3B;8CAGF,cAAA,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;;;;;;;;;;;0CAGxB,6LAAC,iJAAc;gCAAC,MAAK;gCAAQ,WAAU;0CACrC,cAAA,6LAAC;8CAAE;;;;;;;;;;;;;;;;6CAIP,6LAAC,0KAAI;wBACH,MAAK;wBACL,WAAW,IAAA,qHAAE,EACX,+DACA,qBACA,aAAa,cAAc;;0CAG7B,6LAAC,yNAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GAxYgB;;QACG,oJAAW;QACX,0IAAO;QACgB,gJAAU;;;MAHpC","debugId":null}},
    {"offset": {"line": 1600, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/contexts/whatsapp-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useState, useEffect } from \"react\"\r\n\r\ninterface WhatsAppContextType {\r\n  isConnected: boolean\r\n  setIsConnected: (connected: boolean) => void\r\n}\r\n\r\nconst WhatsAppContext = createContext<WhatsAppContextType | undefined>(undefined)\r\n\r\nexport function WhatsAppProvider({ children }: { children: React.ReactNode }) {\r\n  const [isConnected, setIsConnected] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function checkInitialStatus() {\r\n      try {\r\n        const response = await fetch(\"/api/whatsapp/status\")\r\n\r\n        // Se a resposta não for ok, não considerar como erro crítico\r\n        if (!response.ok) {\r\n          setIsConnected(false)\r\n          return\r\n        }\r\n\r\n        const data = await response.json()\r\n\r\n        // Atualizar estado baseado na resposta\r\n        if (data.success && data.connected) {\r\n          setIsConnected(true)\r\n        } else {\r\n          setIsConnected(false)\r\n        }\r\n      } catch (error) {\r\n        // Falha silenciosa - WhatsApp não configurado ainda\r\n        setIsConnected(false)\r\n      }\r\n    }\r\n\r\n    checkInitialStatus()\r\n\r\n    // Polling a cada 30 segundos\r\n    const interval = setInterval(checkInitialStatus, 30000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [])\r\n\r\n  return <WhatsAppContext.Provider value={{ isConnected, setIsConnected }}>{children}</WhatsAppContext.Provider>\r\n}\r\n\r\nexport function useWhatsApp() {\r\n  const context = useContext(WhatsAppContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useWhatsApp must be used within a WhatsAppProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA;;AAUA,MAAM,gCAAkB,IAAA,8KAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;;IAC1E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,IAAA,0KAAS;sCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM;oBAE7B,6DAA6D;oBAC7D,IAAI,CAAC,SAAS,EAAE,EAAE;wBAChB,eAAe;wBACf;oBACF;oBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;oBAEhC,uCAAuC;oBACvC,IAAI,KAAK,OAAO,IAAI,KAAK,SAAS,EAAE;wBAClC,eAAe;oBACjB,OAAO;wBACL,eAAe;oBACjB;gBACF,EAAE,OAAO,OAAO;oBACd,oDAAoD;oBACpD,eAAe;gBACjB;YACF;YAEA;YAEA,6BAA6B;YAC7B,MAAM,WAAW,YAAY,oBAAoB;YAEjD;8CAAO,IAAM,cAAc;;QAC7B;qCAAG,EAAE;IAEL,qBAAO,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAa;QAAe;kBAAI;;;;;;AAC5E;GArCgB;KAAA;AAuCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 1678, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/contexts/whatsapp-cache-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useState, useCallback, useEffect } from \"react\"\r\nimport type { Chat, Message } from \"@/lib/whatsapp-types\"\r\nimport { getCookie } from \"@/lib/auth\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\n\r\ninterface ChatCache {\r\n  chats: Chat[]\r\n  totalChats: number\r\n  hasMore: boolean\r\n  lastFetch: number\r\n}\r\n\r\ninterface MessageCache {\r\n  [chatId: string]: {\r\n    messages: Message[]\r\n    totalMessages: number\r\n    hasMore: boolean\r\n    lastFetch: number\r\n  }\r\n}\r\n\r\ninterface WhatsAppCacheContextType {\r\n  // Cache de chats\r\n  getCachedChats: () => ChatCache | null\r\n  setCachedChats: (chats: Chat[], hasMore: boolean, totalChats: number) => void\r\n  appendChats: (newChats: Chat[], hasMore: boolean) => void\r\n  invalidateChatsCache: () => void\r\n  getChatById: (chatId: string) => Chat | null\r\n\r\n  // Cache de mensagens\r\n  getCachedMessages: (chatId: string) => { messages: Message[]; hasMore: boolean; totalMessages: number } | null\r\n  setCachedMessages: (chatId: string, messages: Message[], hasMore: boolean, totalMessages: number) => void\r\n  appendMessages: (chatId: string, newMessages: Message[], hasMore: boolean) => void\r\n  addNewMessage: (chatId: string, message: Message) => void\r\n  invalidateMessagesCache: (chatId?: string) => void\r\n\r\n  // Estado do chat selecionado\r\n  selectedChatId: string | null\r\n  setSelectedChatId: (chatId: string | null) => void\r\n  selectedChatName: string\r\n  setSelectedChatName: (name: string) => void\r\n}\r\n\r\nconst WhatsAppCacheContext = createContext<WhatsAppCacheContextType | undefined>(undefined)\r\n\r\nconst CACHE_TTL = 30 * 60 * 1000 // 30 minutos\r\n\r\nfunction getUserCacheKey(prefix: string): string {\r\n  const userId = getCookie(\"auth_user_id\") || \"default\"\r\n  return `whatsapp_${prefix}_${userId}`\r\n}\r\n\r\nexport function WhatsAppCacheProvider({ children }: { children: React.ReactNode }) {\r\n  const [chatsCache, setChatsCache] = useState<ChatCache | null>(null)\r\n  const [messagesCache, setMessagesCache] = useState<MessageCache>({})\r\n  const [selectedChatId, setSelectedChatId] = useState<string | null>(null)\r\n  const [selectedChatName, setSelectedChatName] = useState<string>(\"\")\r\n  const [currentUserId, setCurrentUserId] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    const userId = getCookie(\"auth_user_id\")\r\n    setCurrentUserId(userId)\r\n\r\n    if (userId) {\r\n      // Carregar cache de chats do localStorage\r\n      const chatsCacheKey = getUserCacheKey(\"chats\")\r\n      const storedChats = localStorage.getItem(chatsCacheKey)\r\n      if (storedChats) {\r\n        try {\r\n          const parsed = JSON.parse(storedChats)\r\n          const isExpired = Date.now() - parsed.lastFetch > CACHE_TTL\r\n          if (!isExpired) {\r\n            setChatsCache(parsed)\r\n          } else {\r\n            localStorage.removeItem(chatsCacheKey)\r\n          }\r\n        } catch (e) {\r\n          localStorage.removeItem(chatsCacheKey)\r\n        }\r\n      }\r\n\r\n      // Carregar cache de mensagens do localStorage (apenas dos chats abertos)\r\n      const messagesCacheKey = getUserCacheKey(\"messages\")\r\n      const storedMessages = localStorage.getItem(messagesCacheKey)\r\n      if (storedMessages) {\r\n        try {\r\n          const parsed = JSON.parse(storedMessages)\r\n          // Limpar mensagens expiradas\r\n          const cleaned: MessageCache = {}\r\n          Object.entries(parsed).forEach(([chatId, cache]: [string, any]) => {\r\n            const isExpired = Date.now() - cache.lastFetch > CACHE_TTL\r\n            if (!isExpired) {\r\n              cleaned[chatId] = cache\r\n            }\r\n          })\r\n          setMessagesCache(cleaned)\r\n        } catch (e) {\r\n          localStorage.removeItem(messagesCacheKey)\r\n        }\r\n      }\r\n\r\n      const supabase = createClient()\r\n\r\n      // Subscribe to chat_assignments changes\r\n      const assignmentsChannel = supabase\r\n        .channel(\"chat_assignments_changes\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          {\r\n            event: \"*\",\r\n            schema: \"public\",\r\n            table: \"chat_assignments\",\r\n          },\r\n          (payload) => {\r\n            // Invalidar cache de chats quando há mudança nas atribuições\r\n            invalidateChatsCache()\r\n          },\r\n        )\r\n        .subscribe()\r\n\r\n      // Subscribe to chat_activity changes\r\n      const activityChannel = supabase\r\n        .channel(\"chat_activity_changes\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          {\r\n            event: \"*\",\r\n            schema: \"public\",\r\n            table: \"chat_activity\",\r\n          },\r\n          (payload) => {\r\n            // Notificar mudanças de atividade (typing, viewing)\r\n            window.dispatchEvent(new CustomEvent(\"whatsapp:activity\", { detail: payload }))\r\n          },\r\n        )\r\n        .subscribe()\r\n\r\n      // Subscribe to message_tracking changes\r\n      const messagesChannel = supabase\r\n        .channel(\"message_tracking_changes\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          {\r\n            event: \"INSERT\",\r\n            schema: \"public\",\r\n            table: \"message_tracking\",\r\n          },\r\n          (payload) => {\r\n            // Invalidar cache de mensagens do chat afetado\r\n            const newMessage = payload.new as any\r\n            if (newMessage.chat_id) {\r\n              window.dispatchEvent(\r\n                new CustomEvent(\"whatsapp:new_message\", {\r\n                  detail: { chatId: newMessage.chat_id, message: newMessage },\r\n                }),\r\n              )\r\n            }\r\n          },\r\n        )\r\n        .subscribe()\r\n\r\n      // Subscribe to whatsapp_config changes\r\n      const configChannel = supabase\r\n        .channel(\"whatsapp_config_changes\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          {\r\n            event: \"*\",\r\n            schema: \"public\",\r\n            table: \"whatsapp_config\",\r\n          },\r\n          (payload) => {\r\n            // Notificar mudanças de status de conexão\r\n            window.dispatchEvent(new CustomEvent(\"whatsapp:config\", { detail: payload }))\r\n          },\r\n        )\r\n        .subscribe()\r\n\r\n      return () => {\r\n        supabase.removeChannel(assignmentsChannel)\r\n        supabase.removeChannel(activityChannel)\r\n        supabase.removeChannel(messagesChannel)\r\n        supabase.removeChannel(configChannel)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (chatsCache && currentUserId) {\r\n      const cacheKey = getUserCacheKey(\"chats\")\r\n      localStorage.setItem(cacheKey, JSON.stringify(chatsCache))\r\n    }\r\n  }, [chatsCache, currentUserId])\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(messagesCache).length > 0 && currentUserId) {\r\n      const cacheKey = getUserCacheKey(\"messages\")\r\n      localStorage.setItem(cacheKey, JSON.stringify(messagesCache))\r\n    }\r\n  }, [messagesCache, currentUserId])\r\n\r\n  // Cache de chats\r\n  const getCachedChats = useCallback(() => {\r\n    if (!chatsCache) return null\r\n\r\n    const isExpired = Date.now() - chatsCache.lastFetch > CACHE_TTL\r\n    if (isExpired) {\r\n      return null\r\n    }\r\n\r\n    return chatsCache\r\n  }, [chatsCache])\r\n\r\n  const setCachedChats = useCallback((chats: Chat[], hasMore: boolean, totalChats: number) => {\r\n    setChatsCache({\r\n      chats,\r\n      totalChats,\r\n      hasMore,\r\n      lastFetch: Date.now(),\r\n    })\r\n  }, [])\r\n\r\n  const appendChats = useCallback((newChats: Chat[], hasMore: boolean) => {\r\n    setChatsCache((prev) => {\r\n      if (!prev) return null\r\n\r\n      const existingIds = new Set(prev.chats.map((c) => c.id))\r\n      const uniqueNewChats = newChats.filter((c) => !existingIds.has(c.id))\r\n\r\n      return {\r\n        chats: [...prev.chats, ...uniqueNewChats],\r\n        totalChats: prev.totalChats + uniqueNewChats.length,\r\n        hasMore,\r\n        lastFetch: Date.now(),\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const invalidateChatsCache = useCallback(() => {\r\n    setChatsCache(null)\r\n    if (currentUserId) {\r\n      const cacheKey = getUserCacheKey(\"chats\")\r\n      localStorage.removeItem(cacheKey)\r\n    }\r\n  }, [currentUserId])\r\n\r\n  // Função para buscar um chat específico pelo ID\r\n  const getChatById = useCallback(\r\n    (chatId: string): Chat | null => {\r\n      if (!chatsCache) return null\r\n\r\n      const isExpired = Date.now() - chatsCache.lastFetch > CACHE_TTL\r\n      if (isExpired) return null\r\n\r\n      const chat = chatsCache.chats.find((c) => c.id === chatId)\r\n      return chat || null\r\n    },\r\n    [chatsCache],\r\n  )\r\n\r\n  // Cache de mensagens\r\n  const getCachedMessages = useCallback(\r\n    (chatId: string) => {\r\n      const cache = messagesCache[chatId]\r\n      if (!cache) return null\r\n\r\n      const isExpired = Date.now() - cache.lastFetch > CACHE_TTL\r\n      if (isExpired) {\r\n        return null\r\n      }\r\n\r\n      return {\r\n        messages: cache.messages,\r\n        hasMore: cache.hasMore,\r\n        totalMessages: cache.totalMessages,\r\n      }\r\n    },\r\n    [messagesCache],\r\n  )\r\n\r\n  const setCachedMessages = useCallback(\r\n    (chatId: string, messages: Message[], hasMore: boolean, totalMessages: number) => {\r\n      setMessagesCache((prev) => ({\r\n        ...prev,\r\n        [chatId]: {\r\n          messages,\r\n          totalMessages,\r\n          hasMore,\r\n          lastFetch: Date.now(),\r\n        },\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const appendMessages = useCallback((chatId: string, newMessages: Message[], hasMore: boolean) => {\r\n    setMessagesCache((prev) => {\r\n      const cache = prev[chatId]\r\n      if (!cache) return prev\r\n\r\n      const existingIds = new Set(cache.messages.map((m) => m.id))\r\n      const uniqueNewMessages = newMessages.filter((m) => !existingIds.has(m.id))\r\n\r\n      return {\r\n        ...prev,\r\n        [chatId]: {\r\n          messages: [...uniqueNewMessages, ...cache.messages],\r\n          totalMessages: cache.totalMessages + uniqueNewMessages.length,\r\n          hasMore,\r\n          lastFetch: Date.now(),\r\n        },\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const addNewMessage = useCallback((chatId: string, message: Message) => {\r\n    setMessagesCache((prev) => {\r\n      const cache = prev[chatId]\r\n      if (!cache) {\r\n        return prev\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [chatId]: {\r\n          ...cache,\r\n          messages: [...cache.messages, message],\r\n          totalMessages: cache.totalMessages + 1,\r\n          lastFetch: Date.now(),\r\n        },\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const invalidateMessagesCache = useCallback(\r\n    (chatId?: string) => {\r\n      if (chatId) {\r\n        setMessagesCache((prev) => {\r\n          const newCache = { ...prev }\r\n          delete newCache[chatId]\r\n          return newCache\r\n        })\r\n      } else {\r\n        setMessagesCache({})\r\n        if (currentUserId) {\r\n          const cacheKey = getUserCacheKey(\"messages\")\r\n          localStorage.removeItem(cacheKey)\r\n        }\r\n      }\r\n    },\r\n    [currentUserId],\r\n  )\r\n\r\n  return (\r\n    <WhatsAppCacheContext.Provider\r\n      value={{\r\n        getCachedChats,\r\n        setCachedChats,\r\n        appendChats,\r\n        invalidateChatsCache,\r\n        getChatById,\r\n        getCachedMessages,\r\n        setCachedMessages,\r\n        appendMessages,\r\n        addNewMessage,\r\n        invalidateMessagesCache,\r\n        selectedChatId,\r\n        setSelectedChatId,\r\n        selectedChatName,\r\n        setSelectedChatName,\r\n      }}\r\n    >\r\n      {children}\r\n    </WhatsAppCacheContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useWhatsAppCache() {\r\n  const context = useContext(WhatsAppCacheContext)\r\n  if (!context) {\r\n    throw new Error(\"useWhatsAppCache must be used within WhatsAppCacheProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2064, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/app/%28app%29/layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { Sidebar } from \"@/components/Sidebar\"\r\nimport { SidebarProvider, useSidebar } from \"@/contexts/sidebar-context\"\r\nimport { WhatsAppProvider } from \"@/contexts/whatsapp-context\"\r\nimport { WhatsAppCacheProvider } from \"@/contexts/whatsapp-cache-context\"\r\n\r\nfunction AppLayoutContent({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const { isCollapsed } = useSidebar()\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen\">\r\n      <Sidebar />\r\n      <main\r\n        className=\"flex-1 transition-all duration-300 ease-in-out\"\r\n        style={{ marginLeft: isCollapsed ? \"60px\" : \"184px\" }}\r\n      >\r\n        {children}\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function AppLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  return (\r\n    <SidebarProvider>\r\n      <WhatsAppProvider>\r\n        <WhatsAppCacheProvider>\r\n          <AppLayoutContent>{children}</AppLayoutContent>\r\n        </WhatsAppCacheProvider>\r\n      </WhatsAppProvider>\r\n    </SidebarProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;;;AAPA;;;;;AASA,SAAS,iBAAiB,EACxB,QAAQ,EAGT;;IACC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,gJAAU;IAElC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oIAAO;;;;;0BACR,6LAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY,cAAc,SAAS;gBAAQ;0BAEnD;;;;;;;;;;;;AAIT;GAlBS;;QAKiB,gJAAU;;;KAL3B;AAoBM,SAAS,UAAU,EAChC,QAAQ,EAGT;IACC,qBACE,6LAAC,qJAAe;kBACd,cAAA,6LAAC,uJAAgB;sBACf,cAAA,6LAAC,qKAAqB;0BACpB,cAAA,6LAAC;8BAAkB;;;;;;;;;;;;;;;;;;;;;AAK7B;MAdwB","debugId":null}}]
}