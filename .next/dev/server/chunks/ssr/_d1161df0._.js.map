{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\r\nimport { CheckIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Checkbox({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <CheckIcon className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,qNAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/separator.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = 'horizontal',\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/forms/ordem-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Plus, X, Loader2, CheckCircle2, ExternalLink, Eraser, Copy, Code } from 'lucide-react'\r\nimport type { OrdemDeServico } from \"@/lib/types\"\r\nimport { getDriveLinks } from \"@/lib/drive-links-store\"\r\n\r\nconst numberToWords = (num: number): string => {\r\n  const words: Record<number, string> = {\r\n    1: \"uma\",\r\n    2: \"duas\",\r\n    3: \"três\",\r\n    4: \"quatro\",\r\n    5: \"cinco\",\r\n    6: \"seis\",\r\n    7: \"sete\",\r\n    8: \"oito\",\r\n    9: \"nove\",\r\n    10: \"dez\",\r\n    11: \"onze\",\r\n    12: \"doze\",\r\n    13: \"treze\",\r\n    14: \"quatorze\",\r\n    15: \"quinze\",\r\n    16: \"dezesseis\",\r\n    17: \"dezessete\",\r\n    18: \"dezoito\",\r\n    19: \"dezenove\",\r\n    20: \"vinte\",\r\n  }\r\n  return words[num] || num.toString()\r\n}\r\n\r\nconst formatCurrency = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (!numbers) return \"\"\r\n  const amount = Number.parseFloat(numbers) / 100\r\n  return new Intl.NumberFormat(\"pt-BR\", {\r\n    style: \"currency\",\r\n    currency: \"BRL\",\r\n  }).format(amount)\r\n}\r\n\r\nconst formatPhone = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (numbers.length <= 10) {\r\n    return numbers.replace(/(\\d{2})(\\d{4})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n  }\r\n  return numbers.replace(/(\\d{2})(\\d{5})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n}\r\n\r\nconst formatCPF = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return numbers.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{0,2})/, \"$1.$2.$3-$4\").replace(/-$/, \"\")\r\n}\r\n\r\ninterface OrdemFormProps {\r\n  onSave: (data: OrdemDeServico) => void\r\n}\r\n\r\nconst createEmptyAmbiente = () => ({\r\n  ambiente: \"\",\r\n  tipo_piso: \"\",\r\n  medidas: \"\",\r\n  inox: {\r\n    acabamento: [],\r\n    passamao: [],\r\n    tubos: [],\r\n    flags: {\r\n      com_uniao_sim: false,\r\n      com_uniao_nao: false,\r\n      uniao_com_curva_sim: false,\r\n      uniao_com_curva_nao: false,\r\n      inicio_com_curva_sim: false,\r\n      inicio_com_curva_nao: false,\r\n      final_com_curva_sim: false,\r\n      final_com_curva_nao: false,\r\n      pinado_sim: false,\r\n      pinado_nao: false,\r\n    },\r\n  },\r\n  hastes: {\r\n    tipo: [],\r\n    fixacao: {\r\n      lateral: false,\r\n      superior: false,\r\n      flange: false,\r\n      tarugo_padrao: false,\r\n    },\r\n  },\r\n  intermediarios: {\r\n    tipo: [],\r\n    com_uniao: false,\r\n    transpassado: false,\r\n  },\r\n  vidro: {\r\n    acabamento_superior: [],\r\n    tubos: [],\r\n    fixacao: [],\r\n    acabamento: [],\r\n    tipo: [],\r\n    espessura: [],\r\n  },\r\n  anexos: [],\r\n})\r\n\r\nexport function OrdemForm({ onSave }: OrdemFormProps) {\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [isDataHojeVisita, setIsDataHojeVisita] = useState(true)\r\n  \r\n  const [showLoadingModal, setShowLoadingModal] = useState(false)\r\n  const [isLoadingComplete, setIsLoadingComplete] = useState(false)\r\n  const [showClearFieldsToast, setShowClearFieldsToast] = useState(false)\r\n  const [showCopyToast, setShowCopyToast] = useState(false)\r\n  const [countdown, setCountdown] = useState(10)\r\n  \r\n  const [isOrdemSalva, setIsOrdemSalva] = useState(false)\r\n  \r\n  const [formData, setFormData] = useState<OrdemDeServico>({\r\n    cliente: \"\",\r\n    ordem_producao: \"\",\r\n    tipo_os: [],\r\n    endereco: \"\",\r\n    cidade: \"\",\r\n    celular: \"\",\r\n    data_hora_visita: \"\",\r\n    vendedor: \"\",\r\n    informacoes_complementares: \"\",\r\n    ambientes: [createEmptyAmbiente()],\r\n    anexos_gerais: [],\r\n  })\r\n\r\n  useEffect(() => {\r\n    const today = new Date().toISOString().split('T')[0]\r\n    setFormData((prev) => ({ ...prev, data_hora_visita: today }))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (showClearFieldsToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowClearFieldsToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showClearFieldsToast])\r\n\r\n  useEffect(() => {\r\n    if (showCopyToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowCopyToast(false)\r\n      }, 3000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showCopyToast])\r\n\r\n  const [contratoData, setContratoData] = useState<any>({}) // Placeholder for contratoData\r\n  const [gerarContrato, setGerarContrato] = useState<boolean>(false) // Placeholder for gerarContrato\r\n  const [tipoContrato, setTipoContrato] = useState<string>(\"\") // Placeholder for tipoContrato\r\n\r\n  const [fileNames, setFileNames] = useState<string[]>([])\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }))\r\n    if (errors[field]) {\r\n      setErrors((prev) => ({ ...prev, [field]: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleContratoInputChange = (field: string, value: string) => {\r\n    let formattedValue = value\r\n\r\n    // Apply formatting based on field type\r\n    if (field === \"telefone\") {\r\n      formattedValue = formatPhone(value)\r\n    } else if (field === \"cpf\") {\r\n      formattedValue = formatCPF(value)\r\n    } else if (field === \"valor_produtos_instalacao\" || field === \"valor_entrada\" || field === \"valor_desconto\") {\r\n      formattedValue = formatCurrency(value)\r\n    }\r\n\r\n    setContratoData((prev) => ({ ...prev, [field]: formattedValue }))\r\n    if (errors[field]) {\r\n      setErrors((prev) => ({ ...prev, [field]: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleAmbienteChange = (ambienteIndex: number, field: string, value: string) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      ambientes: prev.ambientes.map((amb, idx) => (idx === ambienteIndex ? { ...amb, [field]: value } : amb)),\r\n    }))\r\n  }\r\n\r\n  const handleCheckboxArray = (\r\n    ambienteIndex: number,\r\n    section: string,\r\n    field: string,\r\n    value: string,\r\n    checked: boolean,\r\n  ) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      ambientes: prev.ambientes.map((ambiente, idx) => {\r\n        if (idx !== ambienteIndex) return ambiente\r\n        const currentSection = ambiente[section as keyof typeof ambiente] as any\r\n        const currentArray = currentSection[field] as string[]\r\n\r\n        return {\r\n          ...ambiente,\r\n          [section]: {\r\n            ...currentSection,\r\n            [field]: checked ? [...currentArray, value] : currentArray.filter((v) => v !== value),\r\n          },\r\n        }\r\n      }),\r\n    }))\r\n  }\r\n\r\n  const handleTopLevelCheckbox = (field: string, value: string, checked: boolean) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: checked\r\n        ? [...(prev[field as keyof typeof prev] as string[]), value]\r\n        : (prev[field as keyof typeof prev] as string[]).filter((v) => v !== value),\r\n    }))\r\n    if (field === \"tipo_os\" && errors.tipo_os) {\r\n      setErrors((prev) => ({ ...prev, tipo_os: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleBooleanFlag = (ambienteIndex: number, section: string, field: string, checked: boolean) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      ambientes: prev.ambientes.map((ambiente, idx) => {\r\n        if (idx !== ambienteIndex) return ambiente\r\n\r\n        if (section === \"inox\") {\r\n          return {\r\n            ...ambiente,\r\n            inox: {\r\n              ...ambiente.inox,\r\n              flags: {\r\n                ...ambiente.inox.flags,\r\n                [field]: checked,\r\n              },\r\n            },\r\n          }\r\n        } else {\r\n          const currentSection = ambiente[section as keyof typeof ambiente] as any\r\n          return {\r\n            ...ambiente,\r\n            [section]: {\r\n              ...currentSection,\r\n              [field]: checked,\r\n            },\r\n          }\r\n        }\r\n      }),\r\n    }))\r\n  }\r\n\r\n  const handleHasteFixacaoChange = (ambienteIndex: number, field: string, checked: boolean) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      ambientes: prev.ambientes.map((ambiente, idx) =>\r\n        idx === ambienteIndex\r\n          ? {\r\n              ...ambiente,\r\n              hastes: {\r\n                ...ambiente.hastes,\r\n                fixacao: {\r\n                  ...ambiente.hastes.fixacao,\r\n                  [field]: checked,\r\n                },\r\n              },\r\n            }\r\n          : ambiente,\r\n      ),\r\n    }))\r\n  }\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files\r\n    if (files) {\r\n      const names = Array.from(files).map((f) => f.name)\r\n      setFileNames(names)\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        anexos_gerais: names,\r\n      }))\r\n    }\r\n  }\r\n\r\n  const handleAddAmbiente = () => {\r\n    if (formData.ambientes.length < 3) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        ambientes: [...prev.ambientes, createEmptyAmbiente()],\r\n      }))\r\n    }\r\n  }\r\n\r\n  const handleRemoveAmbiente = (index: number) => {\r\n    if (formData.ambientes.length > 1) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        ambientes: prev.ambientes.filter((_, idx) => idx !== index),\r\n      }))\r\n    }\r\n  }\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: Record<string, string> = {}\r\n\r\n    if (!formData.cliente.trim()) {\r\n      newErrors.cliente = \"Informe o cliente.\"\r\n    }\r\n\r\n    if (formData.tipo_os.length === 0) {\r\n      newErrors.tipo_os = \"Selecione ao menos uma opção.\"\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const pollForCallback = async (id: string) => {\r\n    const maxAttempts = 60\r\n    let attempts = 0\r\n\r\n    const poll = async (): Promise<string | null> => {\r\n      if (attempts >= maxAttempts) {\r\n        return null\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`/api/callback/check/${id}`)\r\n        const result = await response.json()\r\n\r\n        if (result.driveLink) {\r\n          return result.driveLink\r\n        }\r\n\r\n        await new Promise(resolve => setTimeout(resolve, 5000))\r\n        attempts++\r\n        return poll()\r\n      } catch (error) {\r\n        console.error(\"[v0] Error polling for callback:\", error)\r\n        await new Promise(resolve => setTimeout(resolve, 5000))\r\n        attempts++\r\n        return poll()\r\n      }\r\n    }\r\n\r\n    return poll()\r\n  }\r\n\r\n  const buildCompletePayload = () => {\r\n    const toNullIfEmpty = (val: string | undefined): string | \" \" => (val && val.trim() !== \"\" ? val : \" \")\r\n    const toBooleanOrNull = (val: boolean | undefined): \"X\" | \" \" => (val === true ? \"X\" : \" \")\r\n\r\n    // Helper function to build flattened ambiente payload\r\n    const buildAmbientePayload = (ambiente: (typeof formData.ambientes)[0], prefix: string) => ({\r\n      [`${prefix}_ambiente`]: toNullIfEmpty(ambiente.ambiente),\r\n      [`${prefix}_tipo_piso`]: toNullIfEmpty(ambiente.tipo_piso),\r\n      [`${prefix}_medidas`]: toNullIfEmpty(ambiente.medidas),\r\n\r\n      [`${prefix}_inox_acabamento_polido`]: toBooleanOrNull(ambiente.inox.acabamento.includes(\"polido\")),\r\n      [`${prefix}_inox_acabamento_escovado`]: toBooleanOrNull(ambiente.inox.acabamento.includes(\"escovado\")),\r\n      [`${prefix}_inox_acabamento_pintado`]: toBooleanOrNull(ambiente.inox.acabamento.includes(\"pintado\")),\r\n\r\n      [`${prefix}_inox_passamao_simples`]: toBooleanOrNull(ambiente.inox.passamao.includes(\"simples\")),\r\n      [`${prefix}_inox_passamao_duplo`]: toBooleanOrNull(ambiente.inox.passamao.includes(\"duplo\")),\r\n\r\n      [`${prefix}_inox_tubos_1_1_2`]: toBooleanOrNull(ambiente.inox.tubos.includes(\"1_1_2\")),\r\n      [`${prefix}_inox_tubos_1`]: toBooleanOrNull(ambiente.inox.tubos.includes(\"1\")),\r\n      [`${prefix}_inox_tubos_30x30`]: toBooleanOrNull(ambiente.inox.tubos.includes(\"30x30\")),\r\n      [`${prefix}_inox_tubos_40x10`]: toBooleanOrNull(ambiente.inox.tubos.includes(\"40x10\")),\r\n\r\n      [`${prefix}_inox_com_uniao_sim`]: toBooleanOrNull(ambiente.inox.flags.com_uniao_sim),\r\n      [`${prefix}_inox_com_uniao_nao`]: toBooleanOrNull(ambiente.inox.flags.com_uniao_nao),\r\n      [`${prefix}_inox_uniao_com_curva_sim`]: toBooleanOrNull(ambiente.inox.flags.uniao_com_curva_sim),\r\n      [`${prefix}_inox_uniao_com_curva_nao`]: toBooleanOrNull(ambiente.inox.flags.uniao_com_curva_nao),\r\n      [`${prefix}_inox_inicio_com_curva_sim`]: toBooleanOrNull(ambiente.inox.flags.inicio_com_curva_sim),\r\n      [`${prefix}_inox_inicio_com_curva_nao`]: toBooleanOrNull(ambiente.inox.flags.inicio_com_curva_nao),\r\n      [`${prefix}_inox_final_com_curva_sim`]: toBooleanOrNull(ambiente.inox.flags.final_com_curva_sim),\r\n      [`${prefix}_inox_final_com_curva_nao`]: toBooleanOrNull(ambiente.inox.flags.final_com_curva_nao),\r\n      [`${prefix}_inox_pinado_sim`]: toBooleanOrNull(ambiente.inox.flags.pinado_sim),\r\n      [`${prefix}_inox_pinado_nao`]: toBooleanOrNull(ambiente.inox.flags.pinado_nao),\r\n\r\n      [`${prefix}_hastes_tipo_1_1_2`]: toBooleanOrNull(ambiente.hastes.tipo.includes(\"1_1_2\")),\r\n      [`${prefix}_hastes_tipo_1`]: toBooleanOrNull(ambiente.hastes.tipo.includes(\"1\")),\r\n      [`${prefix}_hastes_tipo_30x30`]: toBooleanOrNull(ambiente.hastes.tipo.includes(\"30x30\")),\r\n      [`${prefix}_hastes_tipo_40x10`]: toBooleanOrNull(ambiente.hastes.tipo.includes(\"40x10\")),\r\n\r\n      [`${prefix}_hastes_fixacao_lateral`]: toBooleanOrNull(ambiente.hastes.fixacao.lateral),\r\n      [`${prefix}_hastes_fixacao_superior`]: toBooleanOrNull(ambiente.hastes.fixacao.superior),\r\n      [`${prefix}_hastes_fixacao_flange`]: toBooleanOrNull(ambiente.hastes.fixacao.flange),\r\n      [`${prefix}_hastes_fixacao_tarugo_padrao`]: toBooleanOrNull(ambiente.hastes.fixacao.tarugo_padrao),\r\n\r\n      [`${prefix}_intermediarios_tipo_1_2`]: toBooleanOrNull(ambiente.intermediarios.tipo.includes(\"1_2\")),\r\n      [`${prefix}_intermediarios_tipo_5_8`]: toBooleanOrNull(ambiente.intermediarios.tipo.includes(\"5_8\")),\r\n      [`${prefix}_intermediarios_tipo_cabo_de_aco`]: toBooleanOrNull(\r\n        ambiente.intermediarios.tipo.includes(\"cabo_de_aco\"),\r\n      ),\r\n\r\n      [`${prefix}_intermediarios_com_uniao`]: toBooleanOrNull(ambiente.intermediarios.com_uniao),\r\n      [`${prefix}_intermediarios_transpassado`]: toBooleanOrNull(ambiente.intermediarios.transpassado),\r\n\r\n      [`${prefix}_vidro_acab_sup_passamao`]: toBooleanOrNull(ambiente.vidro.acabamento_superior.includes(\"passamao\")),\r\n      [`${prefix}_vidro_acab_sup_perfil`]: toBooleanOrNull(ambiente.vidro.acabamento_superior.includes(\"perfil\")),\r\n\r\n      [`${prefix}_vidro_tubos_1_1_2`]: toBooleanOrNull(ambiente.vidro.tubos.includes(\"1_1_2\")),\r\n      [`${prefix}_vidro_tubos_1`]: toBooleanOrNull(ambiente.vidro.tubos.includes(\"1\")),\r\n      [`${prefix}_vidro_tubos_30x30`]: toBooleanOrNull(ambiente.vidro.tubos.includes(\"30x30\")),\r\n      [`${prefix}_vidro_tubos_40x10`]: toBooleanOrNull(ambiente.vidro.tubos.includes(\"40x10\")),\r\n\r\n      [`${prefix}_vidro_fixacao_pinca`]: toBooleanOrNull(ambiente.vidro.fixacao.includes(\"pinca\")),\r\n      [`${prefix}_vidro_fixacao_orelha`]: toBooleanOrNull(ambiente.vidro.fixacao.includes(\"orelha\")),\r\n      [`${prefix}_vidro_fixacao_baguete`]: toBooleanOrNull(ambiente.vidro.fixacao.includes(\"baguete\")),\r\n      [`${prefix}_vidro_fixacao_botons`]: toBooleanOrNull(ambiente.vidro.fixacao.includes(\"botons\")),\r\n\r\n      [`${prefix}_vidro_acabamento_polido`]: toBooleanOrNull(ambiente.vidro.acabamento.includes(\"polido\")),\r\n      [`${prefix}_vidro_acabamento_escovado`]: toBooleanOrNull(ambiente.vidro.acabamento.includes(\"escovado\")),\r\n      [`${prefix}_vidro_acabamento_pintado`]: toBooleanOrNull(ambiente.vidro.acabamento.includes(\"pintado\")),\r\n\r\n      [`${prefix}_vidro_tipo_temperado`]: toBooleanOrNull(ambiente.vidro.tipo.includes(\"temperado\")),\r\n      [`${prefix}_vidro_tipo_laminado`]: toBooleanOrNull(ambiente.vidro.tipo.includes(\"laminado\")),\r\n\r\n      [`${prefix}_vidro_esp_8mm`]: toBooleanOrNull(ambiente.vidro.espessura.includes(\"8mm\")),\r\n      [`${prefix}_vidro_esp_10mm`]: toBooleanOrNull(ambiente.vidro.espessura.includes(\"10mm\")),\r\n      [`${prefix}_vidro_esp_5_5mm`]: toBooleanOrNull(ambiente.vidro.espessura.includes(\"5+5mm\")),\r\n\r\n      [`${prefix}_anexos`]: ambiente.anexos || [],\r\n    })\r\n\r\n    // Build empty ambiente with all keys as \" \" (empty space)\r\n    const buildEmptyAmbientePayload = (prefix: string) => ({\r\n      [`${prefix}_ambiente`]: \" \",\r\n      [`${prefix}_tipo_piso`]: \" \",\r\n      [`${prefix}_medidas`]: \" \",\r\n      [`${prefix}_inox_acabamento_polido`]: \" \",\r\n      [`${prefix}_inox_acabamento_escovado`]: \" \",\r\n      [`${prefix}_inox_acabamento_pintado`]: \" \",\r\n      [`${prefix}_inox_passamao_simples`]: \" \",\r\n      [`${prefix}_inox_passamao_duplo`]: \" \",\r\n      [`${prefix}_inox_tubos_1_1_2`]: \" \",\r\n      [`${prefix}_inox_tubos_1`]: \" \",\r\n      [`${prefix}_inox_tubos_30x30`]: \" \",\r\n      [`${prefix}_inox_tubos_40x10`]: \" \",\r\n      [`${prefix}_inox_com_uniao_sim`]: \" \",\r\n      [`${prefix}_inox_com_uniao_nao`]: \" \",\r\n      [`${prefix}_inox_uniao_com_curva_sim`]: \" \",\r\n      [`${prefix}_inox_uniao_com_curva_nao`]: \" \",\r\n      [`${prefix}_inox_inicio_com_curva_sim`]: \" \",\r\n      [`${prefix}_inox_inicio_com_curva_nao`]: \" \",\r\n      [`${prefix}_inox_final_com_curva_sim`]: \" \",\r\n      [`${prefix}_inox_final_com_curva_nao`]: \" \",\r\n      [`${prefix}_inox_pinado_sim`]: \" \",\r\n      [`${prefix}_inox_pinado_nao`]: \" \",\r\n      [`${prefix}_hastes_tipo_1_1_2`]: \" \",\r\n      [`${prefix}_hastes_tipo_1`]: \" \",\r\n      [`${prefix}_hastes_tipo_30x30`]: \" \",\r\n      [`${prefix}_hastes_tipo_40x10`]: \" \",\r\n      [`${prefix}_hastes_fixacao_lateral`]: \" \",\r\n      [`${prefix}_hastes_fixacao_superior`]: \" \",\r\n      [`${prefix}_hastes_fixacao_flange`]: \" \",\r\n      [`${prefix}_hastes_fixacao_tarugo_padrao`]: \" \",\r\n      [`${prefix}_intermediarios_tipo_1_2`]: \" \",\r\n      [`${prefix}_intermediarios_tipo_5_8`]: \" \",\r\n      [`${prefix}_intermediarios_tipo_cabo_de_aco`]: \" \",\r\n      [`${prefix}_intermediarios_com_uniao`]: \" \",\r\n      [`${prefix}_intermediarios_transpassado`]: \" \",\r\n      [`${prefix}_vidro_acab_sup_passamao`]: \" \",\r\n      [`${prefix}_vidro_acab_sup_perfil`]: \" \",\r\n      [`${prefix}_vidro_tubos_1_1_2`]: \" \",\r\n      [`${prefix}_vidro_tubos_1`]: \" \",\r\n      [`${prefix}_vidro_tubos_30x30`]: \" \",\r\n      [`${prefix}_vidro_tubos_40x10`]: \" \",\r\n      [`${prefix}_vidro_fixacao_pinca`]: \" \",\r\n      [`${prefix}_vidro_fixacao_orelha`]: \" \",\r\n      [`${prefix}_vidro_fixacao_baguete`]: \" \",\r\n      [`${prefix}_vidro_fixacao_botons`]: \" \",\r\n      [`${prefix}_vidro_acabamento_polido`]: \" \",\r\n      [`${prefix}_vidro_acabamento_escovado`]: \" \",\r\n      [`${prefix}_vidro_acabamento_pintado`]: \" \",\r\n      [`${prefix}_vidro_tipo_temperado`]: \" \",\r\n      [`${prefix}_vidro_tipo_laminado`]: \" \",\r\n      [`${prefix}_vidro_esp_8mm`]: \" \",\r\n      [`${prefix}_vidro_esp_10mm`]: \" \",\r\n      [`${prefix}_vidro_esp_5_5mm`]: \" \",\r\n      [`${prefix}_anexos`]: [],\r\n    })\r\n\r\n    const buildContratoPayload = () => {\r\n      if (!gerarContrato || tipoContrato !== \"fisica\") return {}\r\n\r\n      let quantidadeParcelasFormatted = \"\"\r\n      if (contratoData.quantidade_parcelas) {\r\n        const numParcelas = Number.parseInt(contratoData.quantidade_parcelas, 10)\r\n        if (!isNaN(numParcelas)) {\r\n          quantidadeParcelasFormatted = `${numParcelas} (${numberToWords(numParcelas)})`\r\n        }\r\n      }\r\n\r\n      return {\r\n        contrato_tipo_projeto: contratoData.tipo_projeto || \"\",\r\n        contrato_nome: contratoData.nome || \"\",\r\n        contrato_telefone: contratoData.telefone || \"\",\r\n        contrato_endereco: contratoData.endereco_contrato || \"\",\r\n        contrato_cpf: contratoData.cpf || \"\",\r\n        contrato_forma_pagamento: contratoData.forma_pagamento || \"\",\r\n        contrato_valor_produtos_instalacao: contratoData.valor_produtos_instalacao || \"\",\r\n        contrato_valor_entrada: contratoData.valor_entrada || \"\",\r\n        contrato_valor_desconto: contratoData.valor_desconto || \"\",\r\n        contrato_quantidade_parcelas: quantidadeParcelasFormatted || \"\",\r\n        contrato_forma_pagamento_parcelas: contratoData.forma_pagamento_parcelas || \"\",\r\n        contrato_observacao_pagamento: contratoData.observacao_pagamento || \"\",\r\n      }\r\n    }\r\n\r\n    const payload: any = {\r\n      cabecalho: {\r\n        cliente: formData.cliente,\r\n        ordem_producao: toNullIfEmpty(formData.ordem_producao),\r\n        tipo_os_visita: toBooleanOrNull(formData.tipo_os.includes(\"visita\")),\r\n        tipo_os_molde: toBooleanOrNull(formData.tipo_os.includes(\"molde\")),\r\n        tipo_os_instalacao: toBooleanOrNull(formData.tipo_os.includes(\"instalacao\")),\r\n        endereco: toNullIfEmpty(formData.endereco),\r\n        cidade: toNullIfEmpty(formData.cidade),\r\n        celular: toNullIfEmpty(formData.celular),\r\n        data_hora_visita: toNullIfEmpty(formData.data_hora_visita),\r\n        vendedor: toNullIfEmpty(formData.vendedor),\r\n        informacoes_complementares: toNullIfEmpty(formData.informacoes_complementares),\r\n      },\r\n      ...(formData.ambientes[0] ? buildAmbientePayload(formData.ambientes[0], \"a1\") : buildEmptyAmbientePayload(\"a1\")),\r\n      ...(formData.ambientes[1] ? buildAmbientePayload(formData.ambientes[1], \"a2\") : buildEmptyAmbientePayload(\"a2\")),\r\n      ...(formData.ambientes[2] ? buildAmbientePayload(formData.ambientes[2], \"a3\") : buildEmptyAmbientePayload(\"a3\")),\r\n    }\r\n\r\n    return payload\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (validateForm()) {\r\n      const completePayload = buildCompletePayload()\r\n      \r\n      setShowLoadingModal(true)\r\n      setIsLoadingComplete(false)\r\n      setCountdown(10)\r\n\r\n      try {\r\n        console.log(\"[v0] Enviando ordem de serviço para n8n...\")\r\n        console.log(\"[v0] Payload:\", JSON.stringify(completePayload, null, 2))\r\n\r\n        const url = \"https://edubauerdev.app.n8n.cloud/webhook-test/os-criar\"\r\n        const res = await fetch(url, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify(completePayload),\r\n        })\r\n\r\n        if (!res.ok) {\r\n          const errorText = await res.text().catch(() => \"-\")\r\n          console.error(\"[v0] Failed to send to n8n:\", res.status, errorText)\r\n          alert(\"Erro ao enviar ordem de serviço. Verifique o console para mais detalhes.\")\r\n          setShowLoadingModal(false)\r\n          return\r\n        }\r\n\r\n        const result = await res.json()\r\n        console.log(\"[v0] Successfully sent to n8n:\", result)\r\n        \r\n        setIsOrdemSalva(true)\r\n        \r\n        onSave(formData)\r\n      } catch (err) {\r\n        console.error(\"[v0] Network error sending to n8n:\", err)\r\n        alert(\"Erro de rede ao enviar ordem de serviço. Verifique sua conexão.\")\r\n      } finally {\r\n        const countdownInterval = setInterval(() => {\r\n          setCountdown((prev) => {\r\n            if (prev <= 1) {\r\n              clearInterval(countdownInterval)\r\n              setIsLoadingComplete(true)\r\n              return 0\r\n            }\r\n            return prev - 1\r\n          })\r\n        }, 1000)\r\n      }\r\n    }\r\n  }\r\n\r\n  const DRIVE_LINK = 'https://drive.google.com/drive/u/0/folders/1ZteBVMAVJhUbdj5bRg2UI78SeeGjzRFK'\r\n\r\n  const handleCloseModal = () => {\r\n    setShowLoadingModal(false)\r\n    setShowClearFieldsToast(true)\r\n    \r\n    setIsOrdemSalva(false)\r\n    \r\n    setFormData({\r\n      cliente: \"\",\r\n      ordem_producao: \"\",\r\n      tipo_os: [],\r\n      endereco: \"\",\r\n      cidade: \"\",\r\n      celular: \"\",\r\n      data_hora_visita: new Date().toISOString().split('T')[0],\r\n      vendedor: \"\",\r\n      informacoes_complementares: \"\",\r\n      ambientes: [createEmptyAmbiente()],\r\n      anexos_gerais: [],\r\n    })\r\n    setFileNames([])\r\n  }\r\n\r\n  const handleCopyValue = async (value: any) => {\r\n    const textToCopy = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(textToCopy)\r\n      setShowCopyToast(true)\r\n    } catch (err) {\r\n      console.error('Failed to copy:', err)\r\n    }\r\n  }\r\n\r\n  const truncateValue = (value: any): string => {\r\n    const str = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    return str.length > 30 ? `${str.substring(0, 30)}...` : str\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showLoadingModal && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm\">\r\n          <div className=\"relative bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center gap-6 w-[400px] min-h-[340px]\">\r\n            <button\r\n              onClick={handleCloseModal}\r\n              className=\"absolute top-4 right-4 text-neutral-400 hover:text-neutral-600 transition-colors\"\r\n              aria-label=\"Fechar\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n            \r\n            <div className=\"w-20 h-20 relative flex-shrink-0\">\r\n              <img \r\n                src=\"/google_drive.svg\"\r\n                alt=\"Google Drive\" \r\n                className={`w-full h-full object-contain drop-shadow-lg transition-all duration-500`}\r\n                style={{ filter: !isLoadingComplete ? 'grayscale(100%)' : 'none' }}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col items-center gap-4 flex-1 justify-center\" style={{ minHeight: '140px' }}>\r\n              {!isLoadingComplete ? (\r\n                <>\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n                  <p className=\"text-lg font-semibold text-neutral-900\">Gerando ordem de serviço...</p>\r\n                  <p className=\"text-sm text-neutral-600 text-center\">Gerando seu documento em {countdown} segundos</p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <p className=\"text-lg font-semibold text-green-600\">Seu arquivo está pronto</p>\r\n                  <a\r\n                    href={DRIVE_LINK}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n                    </svg>\r\n                    Acessar pasta do arquivo\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showClearFieldsToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Eraser className=\"w-5 h-5 text-blue-400\" />\r\n          <span className=\"text-sm font-medium\">Após gerar seu documento, todos os campos foram limpos.</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showCopyToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Copy className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Valor copiado!</span>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n          <h2 className=\"text-lg font-semibold\">Cabeçalho</h2>\r\n          <p className=\"text-sm text-neutral-600\">Informações básicas do cliente e da ordem de serviço</p>\r\n          <Separator />\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cliente\" className=\"text-sm font-medium text-neutral-800\">\r\n              Cliente <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"cliente\"\r\n              value={formData.cliente}\r\n              onChange={(e) => handleInputChange(\"cliente\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.cliente ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Nome do cliente\"\r\n            />\r\n            {errors.cliente && <p className=\"text-xs text-red-600\">{errors.cliente}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"ordem_producao\" className=\"text-sm font-medium text-neutral-800\">\r\n              Ordem de Produção\r\n            </Label>\r\n            <Input\r\n              id=\"ordem_producao\"\r\n              value={formData.ordem_producao}\r\n              onChange={(e) => handleInputChange(\"ordem_producao\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"Número da ordem\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-sm font-medium text-neutral-800\">\r\n              Tipo de OS <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <div className=\"space-y-2\">\r\n              {[\"visita\", \"molde\", \"instalacao\"].map((tipo) => (\r\n                <div key={tipo} className=\"flex items-center gap-3\">\r\n                  <Checkbox\r\n                    id={`tipo_${tipo}`}\r\n                    checked={formData.tipo_os.includes(tipo)}\r\n                    onCheckedChange={(checked) => handleTopLevelCheckbox(\"tipo_os\", tipo, checked as boolean)}\r\n                    className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                  />\r\n                  <Label htmlFor={`tipo_${tipo}`} className=\"cursor-pointer capitalize text-sm text-neutral-800\">\r\n                    {tipo}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {errors.tipo_os && <p className=\"text-xs text-red-600\">{errors.tipo_os}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"endereco\" className=\"text-sm font-medium text-neutral-800\">\r\n              Endereço\r\n            </Label>\r\n            <Input\r\n              id=\"endereco\"\r\n              value={formData.endereco}\r\n              onChange={(e) => handleInputChange(\"endereco\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"Rua, número, complemento\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cidade\" className=\"text-sm font-medium text-neutral-800\">\r\n              Cidade\r\n            </Label>\r\n            <Input\r\n              id=\"cidade\"\r\n              value={formData.cidade}\r\n              onChange={(e) => handleInputChange(\"cidade\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"Cidade/UF\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"celular\" className=\"text-sm font-medium text-neutral-800\">\r\n              Celular\r\n            </Label>\r\n            <Input\r\n              id=\"celular\"\r\n              value={formData.celular}\r\n              onChange={(e) => handleInputChange(\"celular\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"(00) 00000-0000\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"data_hora_visita\" className=\"text-sm font-medium text-neutral-800\">\r\n              Data e Hora da Visita\r\n            </Label>\r\n            <div className=\"flex items-center gap-3 max-w-xs\">\r\n              <Input\r\n                id=\"data_hora_visita\"\r\n                type=\"date\"\r\n                value={formData.data_hora_visita}\r\n                onChange={(e) => {\r\n                  handleInputChange(\"data_hora_visita\", e.target.value)\r\n                  const today = new Date().toISOString().split('T')[0]\r\n                  setIsDataHojeVisita(e.target.value === today)\r\n                }}\r\n                className=\"flex-1 bg-white text-neutral-900 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              />\r\n              <div className=\"flex items-center gap-2\">\r\n                <Checkbox\r\n                  id=\"hoje_visita_checkbox\"\r\n                  checked={isDataHojeVisita}\r\n                  onCheckedChange={(checked) => {\r\n                    setIsDataHojeVisita(checked as boolean)\r\n                    if (checked) {\r\n                      const today = new Date().toISOString().split('T')[0]\r\n                      handleInputChange(\"data_hora_visita\", today)\r\n                    }\r\n                  }}\r\n                  className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                />\r\n                <Label \r\n                  htmlFor=\"hoje_visita_checkbox\" \r\n                  className=\"cursor-pointer text-sm text-neutral-800 whitespace-nowrap\"\r\n                >\r\n                  Hoje\r\n                </Label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"vendedor\" className=\"text-sm font-medium text-neutral-800\">\r\n              Vendedor\r\n            </Label>\r\n            <Input\r\n              id=\"vendedor\"\r\n              value={formData.vendedor}\r\n              onChange={(e) => handleInputChange(\"vendedor\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"Nome do vendedor\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"informacoes_complementares\" className=\"text-sm font-medium text-neutral-800\">\r\n              Informações Complementares\r\n            </Label>\r\n            <Textarea\r\n              id=\"informacoes_complementares\"\r\n              rows={3}\r\n              value={formData.informacoes_complementares}\r\n              onChange={(e) => handleInputChange(\"informacoes_complementares\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 resize-none\"\r\n              placeholder=\"Observações adicionais...\"\r\n            />\r\n          </div>\r\n        </Card>\r\n\r\n        {formData.ambientes.map((ambiente, ambienteIndex) => (\r\n          <div key={ambienteIndex} className=\"space-y-6\">\r\n            <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h2 className=\"text-lg font-semibold\">Ambiente {ambienteIndex + 1}</h2>\r\n                  <p className=\"text-sm text-neutral-600\">Detalhes do ambiente onde será realizado o serviço</p>\r\n                </div>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleRemoveAmbiente(ambienteIndex)}\r\n                  disabled={formData.ambientes.length === 1}\r\n                  className=\"border-2 border-red-500 text-red-600 hover:bg-red-50 disabled:opacity-30\"\r\n                >\r\n                  <X className=\"w-4 h-4 mr-1\" />\r\n                  Remover ambiente\r\n                </Button>\r\n              </div>\r\n              <Separator />\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor={`ambiente_${ambienteIndex}`} className=\"text-sm font-medium text-neutral-800\">\r\n                  Ambiente\r\n                </Label>\r\n                <Input\r\n                  id={`ambiente_${ambienteIndex}`}\r\n                  value={ambiente.ambiente}\r\n                  onChange={(e) => handleAmbienteChange(ambienteIndex, \"ambiente\", e.target.value)}\r\n                  className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n                  placeholder=\"Ex: Sacada, Escada, Varanda\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor={`tipo_piso_${ambienteIndex}`} className=\"text-sm font-medium text-neutral-800\">\r\n                  Tipo de Piso\r\n                </Label>\r\n                <Input\r\n                  id={`tipo_piso_${ambienteIndex}`}\r\n                  value={ambiente.tipo_piso}\r\n                  onChange={(e) => handleAmbienteChange(ambienteIndex, \"tipo_piso\", e.target.value)}\r\n                  className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n                  placeholder=\"Ex: Porcelanato, Madeira, Cerâmica\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor={`medidas_${ambienteIndex}`} className=\"text-sm font-medium text-neutral-800\">\r\n                  Medidas\r\n                </Label>\r\n                <Textarea\r\n                  id={`medidas_${ambienteIndex}`}\r\n                  rows={3}\r\n                  value={ambiente.medidas}\r\n                  onChange={(e) => handleAmbienteChange(ambienteIndex, \"medidas\", e.target.value)}\r\n                  className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 resize-none\"\r\n                  placeholder=\"Descreva as medidas do ambiente...\"\r\n                />\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n              <h2 className=\"text-lg font-semibold\">Inox</h2>\r\n              <p className=\"text-sm text-neutral-600\">Especificações de acabamento e tubulação em inox</p>\r\n              <Separator />\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Acabamento</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"polido\", \"escovado\", \"pintado\"].map((tipo) => (\r\n                    <div key={tipo} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`inox_acabamento_${tipo}_${ambienteIndex}`}\r\n                        checked={ambiente.inox.acabamento.includes(tipo)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"inox\", \"acabamento\", tipo, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`inox_acabamento_${tipo}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer capitalize text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Passamão</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"simples\", \"duplo\"].map((tipo) => (\r\n                    <div key={tipo} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`inox_passamao_${tipo}_${ambienteIndex}`}\r\n                        checked={ambiente.inox.passamao.includes(tipo)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"inox\", \"passamao\", tipo, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`inox_passamao_${tipo}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer capitalize text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Tubos</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"1_1_2\", label: '1 1/2\"' },\r\n                    { value: \"1\", label: '1\"' },\r\n                    { value: \"30x30\", label: \"30x30\" },\r\n                    { value: \"40x10\", label: \"40x10\" },\r\n                  ].map((tubo) => (\r\n                    <div key={tubo.value} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`inox_tubos_${tubo.value}_${ambienteIndex}`}\r\n                        checked={ambiente.inox.tubos.includes(tubo.value)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"inox\", \"tubos\", tubo.value, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`inox_tubos_${tubo.value}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {tubo.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Opções</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"com_uniao\", label: \"Com União\" },\r\n                    { value: \"uniao_com_curva\", label: \"União com Curva\" },\r\n                    { value: \"inicio_com_curva\", label: \"Início com Curva\" },\r\n                    { value: \"final_com_curva\", label: \"Final com Curva\" },\r\n                    { value: \"pinado\", label: \"Pinado\" },\r\n                  ].map((flag) => {\r\n                    const simKey = `${flag.value}_sim` as keyof typeof ambiente.inox.flags\r\n                    const naoKey = `${flag.value}_nao` as keyof typeof ambiente.inox.flags\r\n                    return (\r\n                      <div\r\n                        key={flag.value}\r\n                        className=\"grid items-center gap-4\"\r\n                        style={{ gridTemplateColumns: \"1fr auto auto\" }}\r\n                      >\r\n                        <span className=\"text-sm text-neutral-800\">{flag.label}</span>\r\n                        <div className=\"flex items-center gap-2 justify-self-start\" style={{ width: \"64px\" }}>\r\n                          <Checkbox\r\n                            id={`inox_flag_${flag.value}_sim_${ambienteIndex}`}\r\n                            checked={ambiente.inox.flags[simKey] || false}\r\n                            onCheckedChange={(checked) =>\r\n                              handleBooleanFlag(ambienteIndex, \"inox\", simKey, checked as boolean)\r\n                            }\r\n                            className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                          />\r\n                          <Label\r\n                            htmlFor={`inox_flag_${flag.value}_sim_${ambienteIndex}`}\r\n                            className=\"cursor-pointer text-sm text-neutral-800\"\r\n                          >\r\n                            Sim\r\n                          </Label>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 justify-self-start\" style={{ width: \"64px\" }}>\r\n                          <Checkbox\r\n                            id={`inox_flag_${flag.value}_nao_${ambienteIndex}`}\r\n                            checked={ambiente.inox.flags[naoKey] || false}\r\n                            onCheckedChange={(checked) =>\r\n                              handleBooleanFlag(ambienteIndex, \"inox\", naoKey, checked as boolean)\r\n                            }\r\n                            className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                          />\r\n                          <Label\r\n                            htmlFor={`inox_flag_${flag.value}_nao_${ambienteIndex}`}\r\n                            className=\"cursor-pointer text-sm text-neutral-800\"\r\n                          >\r\n                            Não\r\n                          </Label>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n              <h2 className=\"text-lg font-semibold\">Hastes</h2>\r\n              <p className=\"text-sm text-neutral-600\">Configuração das hastes de fixação</p>\r\n              <Separator />\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Tipo</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"1_1_2\", label: '1 1/2\"' },\r\n                    { value: \"1\", label: '1\"' },\r\n                    { value: \"30x30\", label: \"30x30\" },\r\n                    { value: \"40x10\", label: \"40x10\" },\r\n                  ].map((tipo) => (\r\n                    <div key={tipo.value} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`hastes_tipo_${tipo.value}_${ambienteIndex}`}\r\n                        checked={ambiente.hastes.tipo.includes(tipo.value)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"hastes\", \"tipo\", tipo.value, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`hastes_tipo_${tipo.value}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Fixação</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"lateral\", label: \"Lateral\" },\r\n                    { value: \"superior\", label: \"Superior\" },\r\n                    { value: \"flange\", label: \"Flange\" },\r\n                    { value: \"tarugo_padrao\", label: \"Tarugo Padrão\" },\r\n                  ].map((fixacao) => {\r\n                    const fixacaoKey = fixacao.value as keyof typeof ambiente.hastes.fixacao\r\n                    return (\r\n                      <div key={fixacao.value} className=\"flex items-center gap-3\">\r\n                        <Checkbox\r\n                          id={`hastes_fixacao_${fixacao.value}_${ambienteIndex}`}\r\n                          checked={ambiente.hastes.fixacao[fixacaoKey] || false}\r\n                          onCheckedChange={(checked) =>\r\n                            handleHasteFixacaoChange(ambienteIndex, fixacao.value, checked as boolean)\r\n                          }\r\n                          className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                        />\r\n                        <Label\r\n                          htmlFor={`hastes_fixacao_${fixacao.value}_${ambienteIndex}`}\r\n                          className=\"cursor-pointer text-sm text-neutral-800\"\r\n                        >\r\n                          {fixacao.label}\r\n                        </Label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n              <h2 className=\"text-lg font-semibold\">Intermediários</h2>\r\n              <p className=\"text-sm text-neutral-600\">Especificações dos elementos intermediários</p>\r\n              <Separator />\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Tipo</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"1_2\", label: '1/2\"' },\r\n                    { value: \"5_8\", label: '5/8\"' },\r\n                    { value: \"cabo_de_aco\", label: \"Cabo de Aço\" },\r\n                  ].map((tipo) => (\r\n                    <div key={tipo.value} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`intermediarios_tipo_${tipo.value}_${ambienteIndex}`}\r\n                        checked={ambiente.intermediarios.tipo.includes(tipo.value)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"intermediarios\", \"tipo\", tipo.value, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`intermediarios_tipo_${tipo.value}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Opções</Label>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Checkbox\r\n                      id={`intermediarios_com_uniao_${ambienteIndex}`}\r\n                      checked={ambiente.intermediarios.com_uniao}\r\n                      onCheckedChange={(checked) =>\r\n                        handleBooleanFlag(ambienteIndex, \"intermediarios\", \"com_uniao\", checked as boolean)\r\n                      }\r\n                      className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                    />\r\n                    <Label\r\n                      htmlFor={`intermediarios_com_uniao_${ambienteIndex}`}\r\n                      className=\"cursor-pointer text-sm text-neutral-800\"\r\n                    >\r\n                      Com União\r\n                    </Label>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Checkbox\r\n                      id={`intermediarios_transpassado_${ambienteIndex}`}\r\n                      checked={ambiente.intermediarios.transpassado}\r\n                      onCheckedChange={(checked) =>\r\n                        handleBooleanFlag(ambienteIndex, \"intermediarios\", \"transpassado\", checked as boolean)\r\n                      }\r\n                      className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                    />\r\n                    <Label\r\n                      htmlFor={`intermediarios_transpassado_${ambienteIndex}`}\r\n                      className=\"cursor-pointer text-sm text-neutral-800\"\r\n                    >\r\n                      Transpassado\r\n                    </Label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white border-2 border-neutral-300 shadow-sm rounded-xl p-6 space-y-4\">\r\n              <h2 className=\"text-lg font-semibold\">Vidro</h2>\r\n              <p className=\"text-sm text-neutral-600\">Especificações dos elementos de vidro</p>\r\n              <Separator />\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Acabamento Superior</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"passamao\", \"perfil\"].map((tipo) => (\r\n                    <div key={tipo} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_acabamento_superior_${tipo}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.acabamento_superior.includes(tipo)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"acabamento_superior\", tipo, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_acabamento_superior_${tipo}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer capitalize text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Tubos</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: \"1_1_2\", label: '1 1/2\"' },\r\n                    { value: \"1\", label: '1\"' },\r\n                    { value: \"30x30\", label: \"30x30\" },\r\n                    { value: \"40x10\", label: \"40x10\" },\r\n                  ].map((tubo) => (\r\n                    <div key={tubo.value} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_tubos_${tubo.value}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.tubos.includes(tubo.value)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"tubos\", tubo.value, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_tubos_${tubo.value}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {tubo.label}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Fixação</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"pinca\", \"orelha\", \"baguete\", \"botons\"].map((fixacao) => (\r\n                    <div key={fixacao} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_fixacao_${fixacao}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.fixacao.includes(fixacao)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"fixacao\", fixacao, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_fixacao_${fixacao}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer capitalize text-sm text-neutral-800\"\r\n                      >\r\n                        {fixacao}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Acabamento</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"polido\", \"escovado\", \"pintado\"].map((acabamento) => (\r\n                    <div key={acabamento} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_acabamento_${acabamento}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.acabamento.includes(acabamento)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"acabamento\", acabamento, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_acabamento_${acabamento}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {acabamento}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Tipo</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"temperado\", \"laminado\"].map((tipo) => (\r\n                    <div key={tipo} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_tipo_${tipo}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.tipo.includes(tipo)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"tipo\", tipo, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_tipo_${tipo}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer capitalize text-sm text-neutral-800\"\r\n                      >\r\n                        {tipo}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-sm font-medium text-neutral-800\">Espessura</Label>\r\n                <div className=\"space-y-2\">\r\n                  {[\"8mm\", \"10mm\", \"5+5mm\"].map((espessura) => (\r\n                    <div key={espessura} className=\"flex items-center gap-3\">\r\n                      <Checkbox\r\n                        id={`vidro_espessura_${espessura}_${ambienteIndex}`}\r\n                        checked={ambiente.vidro.espessura.includes(espessura)}\r\n                        onCheckedChange={(checked) =>\r\n                          handleCheckboxArray(ambienteIndex, \"vidro\", \"espessura\", espessura, checked as boolean)\r\n                        }\r\n                        className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={`vidro_espessura_${espessura}_${ambienteIndex}`}\r\n                        className=\"cursor-pointer text-sm text-neutral-800\"\r\n                      >\r\n                        {espessura}\r\n                      </Label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        ))}\r\n\r\n        {formData.ambientes.length < 3 && (\r\n          <Card className=\"bg-neutral-50 border-2 border-dashed border-neutral-300 shadow-sm rounded-xl p-6\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={handleAddAmbiente}\r\n              className=\"w-full border-2 border-neutral-400 hover:bg-neutral-100 bg-transparent\"\r\n            >\r\n              <Plus className=\"w-5 h-5 mr-2\" />\r\n              Adicionar Ambiente\r\n            </Button>\r\n          </Card>\r\n        )}\r\n\r\n        <div className=\"flex justify-end pt-2\">\r\n          <Button type=\"submit\" size=\"lg\" className=\"bg-neutral-900 hover:bg-neutral-800\">\r\n            Salvar Ordem de Serviço\r\n          </Button>\r\n        </div>\r\n        \r\n        {isOrdemSalva && buildCompletePayload && (\r\n          <Card className=\"bg-neutral-50 border-2 border-neutral-300 p-4 mt-4\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Code className=\"w-5 h-5 text-neutral-700\" />\r\n                <h4 className=\"text-sm font-semibold text-neutral-900\">Informações técnicas</h4>\r\n              </div>\r\n              <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <div className=\"max-h-96 overflow-y-auto\">\r\n              <div className=\"text-xs bg-white p-3 rounded border border-neutral-200 space-y-1\">\r\n                {Object.entries(buildCompletePayload()).map(([key, value]) => (\r\n                  <div key={key} className=\"flex items-start gap-2\">\r\n                    <span className=\"text-neutral-600 font-medium whitespace-nowrap\">{key}:</span>\r\n                    <span \r\n                      className=\"text-neutral-900 flex-1 cursor-pointer hover:bg-neutral-100 px-1 rounded transition-colors\"\r\n                      title={String(value)}\r\n                      onClick={() => handleCopyValue(value)}\r\n                    >\r\n                      {truncateValue(value)}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        )}\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/ui/radio-group.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\r\nimport { CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction RadioGroup({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      data-slot=\"radio-group\"\r\n      className={cn('grid gap-3', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction RadioGroupItem({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      data-slot=\"radio-group-item\"\r\n      className={cn(\r\n        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator\r\n        data-slot=\"radio-group-indicator\"\r\n        className=\"relative flex items-center justify-center\"\r\n      >\r\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  )\r\n}\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0XACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,uLAA6B;YAC5B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,wNAAU;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI9B","debugId":null}},
    {"offset": {"line": 2919, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/forms/contrato-form.tsx"],"sourcesContent":["\"use client\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { Upload, ImageIcon, X, CheckCircle2, AlertTriangle, ExternalLink, Loader2, Eraser, Copy, Code } from 'lucide-react'\r\nimport { getDriveLinks } from \"@/lib/drive-links-store\"\r\n\r\nconst numberToWordsFull = (num: number): string => {\r\n  if (num === 0) return \"zero reais\"\r\n\r\n  const unidades = [\"\", \"um\", \"dois\", \"três\", \"quatro\", \"cinco\", \"seis\", \"sete\", \"oito\", \"nove\"]\r\n  const especiais = [\r\n    \"dez\",\r\n    \"onze\",\r\n    \"doze\",\r\n    \"treze\",\r\n    \"quatorze\",\r\n    \"quinze\",\r\n    \"dezesseis\",\r\n    \"dezessete\",\r\n    \"dezoito\",\r\n    \"dezenove\",\r\n  ]\r\n  const dezenas = [\"\", \"\", \"vinte\", \"trinta\", \"quarenta\", \"cinquenta\", \"sessenta\", \"setenta\", \"oitenta\", \"noventa\"]\r\n  const centenas = [\r\n    \"\",\r\n    \"cem\",\r\n    \"duzentos\",\r\n    \"trezentos\",\r\n    \"quatrocentos\",\r\n    \"quinhentos\",\r\n    \"seiscentos\",\r\n    \"setecentos\",\r\n    \"oitocentos\",\r\n    \"novecentos\",\r\n  ]\r\n\r\n  const convertirGrupo = (n: number): string => {\r\n    if (n === 0) return \"\"\r\n    if (n === 100) return \"cem\"\r\n\r\n    let resultado = \"\"\r\n    const c = Math.floor(n / 100)\r\n    const d = Math.floor((n % 100) / 10)\r\n    const u = n % 10\r\n\r\n    if (c > 0) resultado += centenas[c]\r\n    if (d === 1) {\r\n      if (resultado) resultado += \" e \"\r\n      resultado += especiais[u]\r\n      return resultado\r\n    }\r\n    if (d > 1) {\r\n      if (resultado) resultado += \" e \"\r\n      resultado += dezenas[d]\r\n    }\r\n    if (u > 0) {\r\n      if (resultado && d !== 1) resultado += \" e \"\r\n      else if (resultado) resultado += \" \"\r\n      resultado += unidades[u]\r\n    }\r\n\r\n    return resultado\r\n  }\r\n\r\n  const inteiro = Math.floor(num)\r\n  const centavos = Math.round((num - inteiro) * 100)\r\n\r\n  let texto = \"\"\r\n\r\n  // Milhões\r\n  const milhoes = Math.floor(inteiro / 1000000)\r\n  if (milhoes > 0) {\r\n    if (milhoes === 1) {\r\n      texto = \"um milhão\"\r\n    } else {\r\n      texto = convertirGrupo(milhoes) + \" milhões\"\r\n    }\r\n  }\r\n\r\n  // Milhares\r\n  const milhares = Math.floor((inteiro % 1000000) / 1000)\r\n  if (milhares > 0) {\r\n    if (texto) texto += \" e \"\r\n    if (milhares === 1) {\r\n      texto += \"mil\"\r\n    } else {\r\n      texto += convertirGrupo(milhares) + \" mil\"\r\n    }\r\n  }\r\n\r\n  // Centenas\r\n  const resto = inteiro % 1000\r\n  if (resto > 0) {\r\n    if (texto && resto < 100) texto += \" e \"\r\n    else if (texto) texto += \" \"\r\n    texto += convertirGrupo(resto)\r\n  }\r\n\r\n  // Adiciona \"reais\"\r\n  if (inteiro === 1) {\r\n    texto += \" real\"\r\n  } else {\r\n    texto += \" reais\"\r\n  }\r\n\r\n  // Centavos\r\n  if (centavos > 0) {\r\n    texto += \" e \" + convertirGrupo(centavos)\r\n    texto += centavos === 1 ? \" centavo\" : \" centavos\"\r\n  }\r\n\r\n  return texto\r\n}\r\n\r\nconst formatCurrency = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (!numbers) return \"\"\r\n  const amount = Number.parseFloat(numbers) / 100\r\n  return new Intl.NumberFormat(\"pt-BR\", {\r\n    style: \"currency\",\r\n    currency: \"BRL\",\r\n  }).format(amount)\r\n}\r\n\r\nconst parseCurrency = (value: string): number => {\r\n  if (!value) return 0\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return Number.parseFloat(numbers) / 100\r\n}\r\n\r\nconst formatPhone = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (numbers.length <= 10) {\r\n    return numbers.replace(/(\\d{2})(\\d{4})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n  }\r\n  return numbers.replace(/(\\d{2})(\\d{5})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n}\r\n\r\nconst formatCPF = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return numbers.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{0,2})/, \"$1.$2.$3-$4\").replace(/-$/, \"\")\r\n}\r\n\r\ninterface ContratoFormProps {\r\n  gerarContrato: boolean\r\n  setGerarContrato: (value: boolean) => void\r\n  tipoContrato: \"fisica\" | \"juridica\" | null\r\n  setTipoContrato: (value: \"fisica\" | \"juridica\" | null) => void\r\n  contratoData: {\r\n    tipo_projeto: string\r\n    nome: string\r\n    telefone: string\r\n    endereco_contrato: string\r\n    cpf: string\r\n    forma_pagamento: string\r\n    valor_produtos_instalacao: string\r\n    valor_entrada: string\r\n    valor_desconto: string\r\n    quantidade_parcelas: string\r\n    forma_pagamento_parcelas: string\r\n    observacao_pagamento: string\r\n    data_emissao_contrato: string\r\n  }\r\n  setContratoData: (data: any) => void\r\n  errors: Record<string, string>\r\n  setErrors: (errors: any) => void\r\n}\r\n\r\nexport function ContratoForm({\r\n  gerarContrato,\r\n  setGerarContrato,\r\n  tipoContrato,\r\n  setTipoContrato,\r\n  contratoData,\r\n  setContratoData,\r\n  errors,\r\n  setErrors,\r\n}: ContratoFormProps) {\r\n  const [fotoOrcamentoBase64, setFotoOrcamentoBase64] = useState<string | null>(null)\r\n  const [isDragOver, setIsDragOver] = useState(false)\r\n  const [showSuccessToast, setShowSuccessToast] = useState(false)\r\n  const [showWarningToast, setShowWarningToast] = useState(false)\r\n  const [showMissingFieldsToast, setShowMissingFieldsToast] = useState(false)\r\n  const [showClearFieldsToast, setShowClearFieldsToast] = useState(false)\r\n  const [hasImage, setHasImage] = useState(false)\r\n  const [showThumbnailHover, setShowThumbnailHover] = useState(false)\r\n  const [isToday, setIsToday] = useState(true)\r\n  const [quickFillOptions, setQuickFillOptions] = useState({\r\n    guardaCorpo: false,\r\n    corrimao: false,\r\n    box: false,\r\n  })\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n  const [showLoadingModal, setShowLoadingModal] = useState(false)\r\n  const [isLoadingComplete, setIsLoadingComplete] = useState(false)\r\n  const [submittedPayload, setSubmittedPayload] = useState<any>(null)\r\n  const [showCopyToast, setShowCopyToast] = useState(false)\r\n  const [countdown, setCountdown] = useState(10)\r\n\r\n  useEffect(() => {\r\n    const today = new Date()\r\n    const formattedDate = today.toISOString().split('T')[0]\r\n    setContratoData((prev: any) => ({ \r\n      ...prev, \r\n      data_emissao_contrato: formattedDate \r\n    }))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const handlePaste = async (e: ClipboardEvent) => {\r\n      if (hasImage) {\r\n        setShowWarningToast(true)\r\n        return\r\n      }\r\n\r\n      const items = e.clipboardData?.items\r\n      if (!items) return\r\n\r\n      for (const item of items) {\r\n        if (item.type.startsWith('image/')) {\r\n          const file = item.getAsFile()\r\n          if (file) {\r\n            await processImageFile(file)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('paste', handlePaste)\r\n    return () => document.removeEventListener('paste', handlePaste)\r\n  }, [hasImage])\r\n\r\n  useEffect(() => {\r\n    if (showSuccessToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowSuccessToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showSuccessToast])\r\n\r\n  useEffect(() => {\r\n    if (showWarningToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowWarningToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showWarningToast])\r\n\r\n  useEffect(() => {\r\n    if (showMissingFieldsToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowMissingFieldsToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showMissingFieldsToast])\r\n\r\n  useEffect(() => {\r\n    if (showClearFieldsToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowClearFieldsToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showClearFieldsToast])\r\n\r\n  useEffect(() => {\r\n    if (showCopyToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowCopyToast(false)\r\n      }, 3000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showCopyToast])\r\n\r\n  const handleContratoInputChange = (field: string, value: string) => {\r\n    let formattedValue = value\r\n\r\n    // Apply formatting based on field type\r\n    if (field === \"telefone\") {\r\n      formattedValue = formatPhone(value)\r\n    } else if (field === \"cpf\") {\r\n      formattedValue = formatCPF(value)\r\n    } else if (field === \"valor_produtos_instalacao\" || field === \"valor_entrada\" || field === \"valor_desconto\") {\r\n      formattedValue = formatCurrency(value)\r\n    }\r\n\r\n    setContratoData((prev: any) => ({ ...prev, [field]: formattedValue }))\r\n    if (errors[field]) {\r\n      setErrors((prev: any) => ({ ...prev, [field]: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleDateChange = (value: string) => {\r\n    setContratoData((prev: any) => ({ ...prev, data_emissao_contrato: value }))\r\n    \r\n    // Check if the new date is today\r\n    const today = new Date().toISOString().split('T')[0]\r\n    setIsToday(value === today)\r\n    \r\n    if (errors.data_emissao_contrato) {\r\n      setErrors((prev: any) => ({ ...prev, data_emissao_contrato: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleTodayCheckbox = (checked: boolean) => {\r\n    setIsToday(checked)\r\n    if (checked) {\r\n      const today = new Date().toISOString().split('T')[0]\r\n      setContratoData((prev: any) => ({ ...prev, data_emissao_contrato: today }))\r\n    }\r\n  }\r\n\r\n  const convertToBase64 = (file: File): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.onload = () => {\r\n        if (typeof reader.result === \"string\") {\r\n          resolve(reader.result)\r\n        } else {\r\n          reject(new Error(\"Failed to convert file to base64\"))\r\n        }\r\n      }\r\n      reader.onerror = reject\r\n      reader.readAsDataURL(file)\r\n    })\r\n  }\r\n\r\n  const isImageFile = (file: File): boolean => {\r\n    return file.type === \"image/png\" || file.type === \"image/jpeg\" || file.type === \"image/jpg\"\r\n  }\r\n\r\n  const processImageFile = async (file: File) => {\r\n    if (hasImage) {\r\n      setShowWarningToast(true)\r\n      return\r\n    }\r\n\r\n    if (isImageFile(file)) {\r\n      try {\r\n        const base64 = await convertToBase64(file)\r\n        setFotoOrcamentoBase64(base64)\r\n        setHasImage(true)\r\n        setShowSuccessToast(true)\r\n      } catch (error) {\r\n        console.error(\"Error converting file to base64:\", error)\r\n      }\r\n    } else {\r\n      alert(\"Por favor, selecione apenas arquivos de imagem (PNG, JPG ou JPEG)\")\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      await processImageFile(file)\r\n    }\r\n  }\r\n\r\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(true)\r\n  }\r\n\r\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(false)\r\n  }\r\n\r\n  const handleDrop = async (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(false)\r\n\r\n    const file = e.dataTransfer.files?.[0]\r\n    if (file) {\r\n      await processImageFile(file)\r\n    }\r\n  }\r\n\r\n  const handleRemoveImage = () => {\r\n    setFotoOrcamentoBase64(null)\r\n    setHasImage(false)\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = ''\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    // Validate required fields\r\n    const newErrors: Record<string, string> = {}\r\n    if (!contratoData.tipo_projeto) newErrors.tipo_projeto = \"Campo obrigatório\"\r\n    if (!contratoData.nome) newErrors.nome = \"Campo obrigatório\"\r\n    if (!contratoData.telefone) newErrors.telefone = \"Campo obrigatório\"\r\n    if (!contratoData.endereco_contrato) newErrors.endereco_contrato = \"Campo obrigatório\"\r\n    if (!contratoData.cpf) newErrors.cpf = \"Campo obrigatório\"\r\n    if (!contratoData.forma_pagamento) newErrors.forma_pagamento = \"Campo obrigatório\"\r\n    if (!contratoData.valor_produtos_instalacao) newErrors.valor_produtos_instalacao = \"Campo obrigatório\"\r\n    if (!contratoData.data_emissao_contrato) newErrors.data_emissao_contrato = \"Campo obrigatório\"\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors)\r\n      \r\n      // Show toast\r\n      setShowMissingFieldsToast(true)\r\n      \r\n      // Find first error field and scroll to it\r\n      const firstErrorField = Object.keys(newErrors)[0]\r\n      const fieldElement = document.getElementById(firstErrorField === 'tipo_projeto' ? 'tipo_projeto' : \r\n                                                   firstErrorField === 'nome' ? 'nome_contrato' :\r\n                                                   firstErrorField === 'telefone' ? 'telefone_contrato' : \r\n                                                   firstErrorField === 'endereco_contrato' ? 'endereco_contrato' :\r\n                                                   firstErrorField === 'cpf' ? 'cpf_contrato' :\r\n                                                   firstErrorField === 'forma_pagamento' ? 'forma_pagamento_Transferência bancária (TED/PIX)' :\r\n                                                   firstErrorField === 'valor_produtos_instalacao' ? 'valor_produtos' :\r\n                                                   'data_emissao_contrato')\r\n      \r\n      if (fieldElement) {\r\n        const elementPosition = fieldElement.getBoundingClientRect().top + window.scrollY\r\n        const offsetPosition = elementPosition - (window.innerHeight / 2) + (fieldElement.offsetHeight / 2)\r\n        \r\n        window.scrollTo({\r\n          top: offsetPosition,\r\n          behavior: 'smooth'\r\n        })\r\n      }\r\n      \r\n      return\r\n    }\r\n\r\n    const valorProdutosNum = parseCurrency(contratoData.valor_produtos_instalacao)\r\n    const valorDescontoNum = parseCurrency(contratoData.valor_desconto)\r\n    const valorFinalNumero = valorProdutosNum - valorDescontoNum\r\n\r\n    const quantidadeParcelas = Number.parseInt(contratoData.quantidade_parcelas) || 1\r\n    const valorParcelasNumero = valorFinalNumero / quantidadeParcelas\r\n\r\n    const valorFinalFormatted = new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valorFinalNumero)\r\n\r\n    const valorParcelasFormatted = new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valorParcelasNumero)\r\n\r\n    const valorTotalExtenso = numberToWordsFull(valorFinalNumero)\r\n    const valorParcelaExtenso = numberToWordsFull(valorParcelasNumero)\r\n\r\n    const payload = {\r\n      tipo_projeto: contratoData.tipo_projeto,\r\n      nome_contratante: contratoData.nome,\r\n      telefone_contratante: contratoData.telefone,\r\n      endereco_contratante: contratoData.endereco_contrato,\r\n      cpf_contratante: contratoData.cpf,\r\n      forma_pagamento_nao_parcelado: contratoData.forma_pagamento,\r\n      valor_produtos_instalacao: contratoData.valor_produtos_instalacao,\r\n      valor_entrada: contratoData.valor_entrada || \"\",\r\n      valor_desconto: contratoData.valor_desconto || \"\",\r\n      quantidade_parcelas: contratoData.quantidade_parcelas || \"1\",\r\n      forma_pagamento_parcelas: contratoData.forma_pagamento_parcelas || \"\",\r\n      observacao_pagamento: contratoData.observacao_pagamento || \"\",\r\n      data_emissao_contrato: contratoData.data_emissao_contrato,\r\n      valor_final: valorFinalFormatted,\r\n      valor_total_extenso: valorTotalExtenso,\r\n      valor_parcelas: valorParcelasFormatted,\r\n      valor_parcela_extenso: valorParcelaExtenso,\r\n      foto_orcamento_base64: fotoOrcamentoBase64 || null,\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    setShowLoadingModal(true)\r\n    setIsLoadingComplete(false)\r\n    setSubmittedPayload(payload)\r\n    setCountdown(10)\r\n\r\n    try {\r\n      console.log(\"[v0] Enviando contrato pessoa física para n8n...\")\r\n      console.log(\"[v0] Payload:\", JSON.stringify(payload, null, 2))\r\n      \r\n      const response = await fetch(\"/api/contrato-fisica\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n\r\n      const result = await response.json()\r\n      console.log(\"[v0] Resposta da API:\", result)\r\n\r\n      if (!response.ok || !result.success) {\r\n        throw new Error(result.error || \"Erro ao enviar contrato\")\r\n      }\r\n\r\n      console.log(\"[v0] Contrato enviado com sucesso!\")\r\n    } catch (error) {\r\n      console.error(\"[v0] Erro ao enviar contrato:\", error)\r\n    } finally {\r\n      const countdownInterval = setInterval(() => {\r\n        setCountdown((prev) => {\r\n          if (prev <= 1) {\r\n            clearInterval(countdownInterval)\r\n            setIsLoadingComplete(true)\r\n            setIsSubmitting(false)\r\n            return 0\r\n          }\r\n          return prev - 1\r\n        })\r\n      }, 1000)\r\n    }\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setShowLoadingModal(false)\r\n  }\r\n\r\n  const handleQuickFillChange = (option: 'guardaCorpo' | 'corrimao' | 'box', checked: boolean) => {\r\n    const newOptions = { ...quickFillOptions, [option]: checked }\r\n    setQuickFillOptions(newOptions)\r\n\r\n    // Build the text based on selected options\r\n    const selectedOptions: string[] = []\r\n    if (newOptions.guardaCorpo) selectedOptions.push('Guarda-corpo')\r\n    if (newOptions.corrimao) selectedOptions.push('corrimão')\r\n    if (newOptions.box) selectedOptions.push('box')\r\n\r\n    let tipoProjeto = ''\r\n    if (selectedOptions.length === 1) {\r\n      tipoProjeto = selectedOptions[0]\r\n    } else if (selectedOptions.length === 2) {\r\n      tipoProjeto = `${selectedOptions[0]} e ${selectedOptions[1]}`\r\n    } else if (selectedOptions.length === 3) {\r\n      tipoProjeto = `${selectedOptions[0]}, ${selectedOptions[1]} e ${selectedOptions[2]}`\r\n    }\r\n\r\n    handleContratoInputChange('tipo_projeto', tipoProjeto)\r\n  }\r\n\r\n  const hasAnyFieldContent = () => {\r\n    return (\r\n      contratoData.tipo_projeto ||\r\n      contratoData.nome ||\r\n      contratoData.telefone ||\r\n      contratoData.endereco_contrato ||\r\n      contratoData.cpf ||\r\n      contratoData.forma_pagamento ||\r\n      contratoData.valor_produtos_instalacao ||\r\n      contratoData.valor_entrada ||\r\n      contratoData.valor_desconto ||\r\n      contratoData.quantidade_parcelas ||\r\n      contratoData.forma_pagamento_parcelas ||\r\n      contratoData.observacao_pagamento ||\r\n      hasImage\r\n    )\r\n  }\r\n\r\n  const handleClearAllFields = () => {\r\n    setContratoData({\r\n      tipo_projeto: \"\",\r\n      nome: \"\",\r\n      telefone: \"\",\r\n      endereco_contrato: \"\",\r\n      cpf: \"\",\r\n      forma_pagamento: \"\",\r\n      valor_produtos_instalacao: \"\",\r\n      valor_entrada: \"\",\r\n      valor_desconto: \"\",\r\n      quantidade_parcelas: \"\",\r\n      forma_pagamento_parcelas: \"\",\r\n      observacao_pagamento: \"\",\r\n      data_emissao_contrato: new Date().toISOString().split('T')[0],\r\n    })\r\n    setFotoOrcamentoBase64(null)\r\n    setHasImage(false)\r\n    setQuickFillOptions({ guardaCorpo: false, corrimao: false, box: false })\r\n    setErrors({})\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = ''\r\n    }\r\n    setShowClearFieldsToast(true)\r\n  }\r\n\r\n  const handleCopyValue = async (value: any) => {\r\n    const textToCopy = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(textToCopy)\r\n      setShowCopyToast(true)\r\n    } catch (err) {\r\n      console.error('Failed to copy:', err)\r\n    }\r\n  }\r\n\r\n  const truncateValue = (value: any): string => {\r\n    const str = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    return str.length > 30 ? `${str.substring(0, 30)}...` : str\r\n  }\r\n\r\n  if (!gerarContrato || tipoContrato !== \"fisica\") {\r\n    return null\r\n  }\r\n\r\n  const DRIVE_LINK = 'https://drive.google.com/drive/u/0/folders/1TyCZ0ZgO3tM4i-jzEKo5bX112KdVAQ7b'\r\n\r\n  return (\r\n    <>\r\n      {showLoadingModal && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm\">\r\n          <div className=\"relative bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center gap-6 w-[400px] min-h-[340px]\">\r\n            <button\r\n              onClick={handleCloseModal}\r\n              className=\"absolute top-4 right-4 text-neutral-400 hover:text-neutral-600 transition-colors\"\r\n              aria-label=\"Fechar\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n            \r\n            <div className=\"w-20 h-20 relative flex-shrink-0\">\r\n              <img \r\n                src=\"/google_drive.svg\" \r\n                alt=\"Google Drive\" \r\n                className={`w-full h-full object-contain drop-shadow-lg transition-all duration-500`}\r\n                style={{ filter: !isLoadingComplete ? 'grayscale(100%)' : 'none' }}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col items-center gap-4 flex-1 justify-center\" style={{ minHeight: '140px' }}>\r\n              {!isLoadingComplete ? (\r\n                <>\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n                  <p className=\"text-lg font-semibold text-neutral-900\">Gerando contrato...</p>\r\n                  <p className=\"text-sm text-neutral-600 text-center\">Gerando seu documento em {countdown} segundos</p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <p className=\"text-lg font-semibold text-green-600\">Seu arquivo está pronto</p>\r\n                  <a\r\n                    href={DRIVE_LINK}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n                    </svg>\r\n                    Acessar pasta do arquivo\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showCopyToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Copy className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Valor copiado!</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showClearFieldsToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Eraser className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Todos os campos foram limpos</span>\r\n        </div>\r\n      </div>\r\n\r\n      {hasAnyFieldContent() && !showLoadingModal && isLoadingComplete && (\r\n        <div className=\"fixed right-6 z-40 bg-neutral-900 hover:bg-neutral-800 text-white rounded-lg shadow-lg transition-all duration-200 hover:scale-105\" style={{ bottom: '24px' }}>\r\n          <button\r\n            onClick={handleClearAllFields}\r\n            className=\"absolute -top-2 -right-2 bg-red-600 hover:bg-red-700 text-white rounded-full p-1 shadow-md transition-colors\"\r\n            aria-label=\"Fechar e limpar\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n          <button\r\n            onClick={handleClearAllFields}\r\n            className=\"px-4 py-3 flex items-center gap-2\"\r\n            aria-label=\"Limpar todos os campos\"\r\n            title=\"Limpar todos os campos\"\r\n          >\r\n            <Eraser className=\"w-5 h-5 text-white\" />\r\n            <span className=\"text-sm font-medium\">Limpar campos</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <Card className=\"bg-neutral-50 border-2 border-neutral-300 p-4 space-y-4\">\r\n        <h3 className=\"text-base font-semibold text-neutral-900\">Dados do Contrato - Pessoa Física</h3>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"tipo_projeto\" className=\"text-sm font-medium text-neutral-800\">\r\n            Tipo de projeto <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"tipo_projeto\"\r\n            value={contratoData.tipo_projeto}\r\n            onChange={(e) => {\r\n              handleContratoInputChange(\"tipo_projeto\", e.target.value)\r\n              setQuickFillOptions({ guardaCorpo: false, corrimao: false, box: false })\r\n            }}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.tipo_projeto ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"Ex.: Guarda-corpo em inox, corrimão, etc.\"\r\n          />\r\n          {errors.tipo_projeto && <p className=\"text-xs text-red-600\">{errors.tipo_projeto}</p>}\r\n          \r\n          <div className=\"flex items-center gap-4 pt-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Checkbox\r\n                id=\"quick_guardacorpo\"\r\n                checked={quickFillOptions.guardaCorpo}\r\n                onCheckedChange={(checked) => handleQuickFillChange('guardaCorpo', checked as boolean)}\r\n                className=\"border-2 border-neutral-500\"\r\n              />\r\n              <Label \r\n                htmlFor=\"quick_guardacorpo\" \r\n                className=\"text-sm text-neutral-800 cursor-pointer\"\r\n              >\r\n                Guarda-corpo\r\n              </Label>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-2\">\r\n              <Checkbox\r\n                id=\"quick_corrimao\"\r\n                checked={quickFillOptions.corrimao}\r\n                onCheckedChange={(checked) => handleQuickFillChange('corrimao', checked as boolean)}\r\n                className=\"border-2 border-neutral-500\"\r\n              />\r\n              <Label \r\n                htmlFor=\"quick_corrimao\" \r\n                className=\"text-sm text-neutral-800 cursor-pointer\"\r\n              >\r\n                Corrimão\r\n              </Label>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-2\">\r\n              <Checkbox\r\n                id=\"quick_box\"\r\n                checked={quickFillOptions.box}\r\n                onCheckedChange={(checked) => handleQuickFillChange('box', checked as boolean)}\r\n                className=\"border-2 border-neutral-500\"\r\n              />\r\n              <Label \r\n                htmlFor=\"quick_box\" \r\n                className=\"text-sm text-neutral-800 cursor-pointer\"\r\n              >\r\n                Box\r\n              </Label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"nome_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n            Nome <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"nome_contrato\"\r\n            value={contratoData.nome}\r\n            onChange={(e) => handleContratoInputChange(\"nome\", e.target.value)}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.nome ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"Nome completo do contratante\"\r\n          />\r\n          {errors.nome && <p className=\"text-xs text-red-600\">{errors.nome}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"telefone_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n            Telefone <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"telefone_contrato\"\r\n            value={contratoData.telefone}\r\n            onChange={(e) => handleContratoInputChange(\"telefone\", e.target.value)}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.telefone ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"(51) 99999-9999\"\r\n            maxLength={15}\r\n          />\r\n          {errors.telefone && <p className=\"text-xs text-red-600\">{errors.telefone}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"endereco_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n            Endereço <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"endereco_contrato\"\r\n            value={contratoData.endereco_contrato}\r\n            onChange={(e) => handleContratoInputChange(\"endereco_contrato\", e.target.value)}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.endereco_contrato ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"Rua, número, bairro, cidade\"\r\n          />\r\n          {errors.endereco_contrato && <p className=\"text-xs text-red-600\">{errors.endereco_contrato}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"cpf_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n            CPF <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"cpf_contrato\"\r\n            value={contratoData.cpf}\r\n            onChange={(e) => handleContratoInputChange(\"cpf\", e.target.value)}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.cpf ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"000.000.000-00\"\r\n            maxLength={14}\r\n          />\r\n          {errors.cpf && <p className=\"text-xs text-red-600\">{errors.cpf}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"data_emissao_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n            Data de Emissão do Contrato <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <div className=\"flex items-center gap-3 max-w-xs\">\r\n            <Input\r\n              id=\"data_emissao_contrato\"\r\n              type=\"date\"\r\n              value={contratoData.data_emissao_contrato}\r\n              onChange={(e) => handleDateChange(e.target.value)}\r\n              className={`flex-1 bg-white text-neutral-900 border-2 ${\r\n                errors.data_emissao_contrato ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            />\r\n            <div className=\"flex items-center gap-2\">\r\n              <Checkbox\r\n                id=\"today_checkbox\"\r\n                checked={isToday}\r\n                onCheckedChange={handleTodayCheckbox}\r\n                className=\"border-2 border-neutral-500\"\r\n              />\r\n              <Label \r\n                htmlFor=\"today_checkbox\" \r\n                className=\"text-sm text-neutral-800 cursor-pointer whitespace-nowrap\"\r\n              >\r\n                Hoje\r\n              </Label>\r\n            </div>\r\n          </div>\r\n          {errors.data_emissao_contrato && <p className=\"text-xs text-red-600\">{errors.data_emissao_contrato}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label className=\"text-sm font-medium text-neutral-800\">\r\n            Forma Pagamento (Não parcelado) <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <RadioGroup\r\n            value={contratoData.forma_pagamento}\r\n            onValueChange={(value) => handleContratoInputChange(\"forma_pagamento\", value)}\r\n          >\r\n            <div className=\"space-y-2\">\r\n              {[\"Transferência bancária (TED/PIX)\", \"Boleto bancário\", \"Dinheiro\"].map((forma) => (\r\n                <div key={forma} className=\"flex items-center gap-3\">\r\n                  <RadioGroupItem value={forma} id={`forma_pagamento_${forma}`} className=\"border-2 border-neutral-500\" />\r\n                  <Label htmlFor={`forma_pagamento_${forma}`} className=\"cursor-pointer text-sm text-neutral-800\">\r\n                    {forma}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </RadioGroup>\r\n          {errors.forma_pagamento && <p className=\"text-xs text-red-600\">{errors.forma_pagamento}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"valor_produtos\" className=\"text-sm font-medium text-neutral-800\">\r\n            Valor produtos e instalação <span className=\"text-red-600\">*</span>\r\n          </Label>\r\n          <Input\r\n            id=\"valor_produtos\"\r\n            value={contratoData.valor_produtos_instalacao}\r\n            onChange={(e) => handleContratoInputChange(\"valor_produtos_instalacao\", e.target.value)}\r\n            className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n              errors.valor_produtos_instalacao ? \"border-red-500\" : \"border-neutral-400\"\r\n            } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n            placeholder=\"R$ 0,00\"\r\n          />\r\n          {errors.valor_produtos_instalacao && <p className=\"text-xs text-red-600\">{errors.valor_produtos_instalacao}</p>}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"valor_entrada\" className=\"text-sm font-medium text-neutral-800\">\r\n            Valor Entrada\r\n          </Label>\r\n          <Input\r\n            id=\"valor_entrada\"\r\n            value={contratoData.valor_entrada}\r\n            onChange={(e) => handleContratoInputChange(\"valor_entrada\", e.target.value)}\r\n            className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n            placeholder=\"R$ 0,00\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"valor_desconto\" className=\"text-sm font-medium text-neutral-800\">\r\n            Valor Desconto\r\n          </Label>\r\n          <Input\r\n            id=\"valor_desconto\"\r\n            value={contratoData.valor_desconto}\r\n            onChange={(e) => handleContratoInputChange(\"valor_desconto\", e.target.value)}\r\n            className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n            placeholder=\"R$ 0,00\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"quantidade_parcelas\" className=\"text-sm font-medium text-neutral-800\">\r\n            Quantidade Parcelas (Caso seja parcelado)\r\n          </Label>\r\n          <Input\r\n            id=\"quantidade_parcelas\"\r\n            type=\"number\"\r\n            min=\"1\"\r\n            value={contratoData.quantidade_parcelas}\r\n            onChange={(e) => handleContratoInputChange(\"quantidade_parcelas\", e.target.value)}\r\n            className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n            placeholder=\"Ex.: 10\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label className=\"text-sm font-medium text-neutral-800\">Forma Pagamento das Parcelas</Label>\r\n          <RadioGroup\r\n            value={contratoData.forma_pagamento_parcelas}\r\n            onValueChange={(value) => handleContratoInputChange(\"forma_pagamento_parcelas\", value)}\r\n          >\r\n            <div className=\"space-y-2\">\r\n              {[\"Cartão de crédito\", \"Transferência bancária (TED/PIX)\", \"Boleto bancário\"].map((forma) => (\r\n                <div key={forma} className=\"flex items-center gap-3\">\r\n                  <RadioGroupItem\r\n                    value={forma}\r\n                    id={`forma_pagamento_parcelas_${forma}`}\r\n                    className=\"border-2 border-neutral-500\"\r\n                  />\r\n                  <Label\r\n                    htmlFor={`forma_pagamento_parcelas_${forma}`}\r\n                    className=\"cursor-pointer text-sm text-neutral-800\"\r\n                  >\r\n                    {forma}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </RadioGroup>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"observacao_pagamento\" className=\"text-sm font-medium text-neutral-800\">\r\n            Observação Sobre Pagamento\r\n          </Label>\r\n          <Textarea\r\n            id=\"observacao_pagamento\"\r\n            rows={3}\r\n            value={contratoData.observacao_pagamento}\r\n            onChange={(e) => handleContratoInputChange(\"observacao_pagamento\", e.target.value)}\r\n            className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 resize-none\"\r\n            placeholder=\"Alguma observação adicional sobre o pagamento...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <Label className=\"text-sm font-medium text-neutral-800\">Foto do Orçamento</Label>\r\n          <div className={`transition-opacity duration-300 ${hasImage ? 'opacity-0 h-0 overflow-hidden' : 'opacity-100'}`}>\r\n            <div\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n              className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\r\n                isDragOver\r\n                  ? \"border-neutral-900 bg-neutral-100\"\r\n                  : \"border-neutral-400 bg-white hover:border-neutral-600\"\r\n              }`}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <Upload className=\"w-10 h-10 text-neutral-400\" />\r\n                <p className=\"text-sm text-neutral-600\">Arraste e solte a imagem aqui</p>\r\n                <p className=\"text-xs text-neutral-500\">ou pressione <kbd className=\"px-2 py-1 bg-neutral-200 rounded text-xs font-mono\">Ctrl+V</kbd> para colar</p>\r\n                <p className=\"text-xs text-neutral-400\">PNG, JPG ou JPEG</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex gap-3 mt-3\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => fileInputRef.current?.click()}\r\n                className=\"flex-1 border-2 border-neutral-400 hover:border-neutral-900 hover:bg-neutral-100 flex items-center gap-2\"\r\n              >\r\n                <ImageIcon className=\"w-4 h-4\" />\r\n                Selecionar Imagem\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {hasImage && (\r\n            <div \r\n              className=\"relative inline-block transition-opacity duration-300\"\r\n              onMouseEnter={() => setShowThumbnailHover(true)}\r\n              onMouseLeave={() => setShowThumbnailHover(false)}\r\n            >\r\n              <div className=\"flex items-center gap-3 bg-neutral-200 rounded-lg px-3 py-2 cursor-pointer group\">\r\n                <ImageIcon className=\"w-6 h-6 text-neutral-500\" />\r\n                <span className=\"text-sm text-neutral-700 font-medium\">Foto do orçamento</span>\r\n                {showThumbnailHover && (\r\n                  <div \r\n                    onClick={handleRemoveImage}\r\n                    className=\"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center transition-opacity\"\r\n                  >\r\n                    <X className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"image/png,image/jpeg,image/jpg\"\r\n            onChange={handleFileUpload}\r\n            className=\"hidden\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"pt-4\">\r\n          <Button\r\n            onClick={handleSubmit}\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-neutral-900 hover:bg-neutral-800 text-white font-medium py-2 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSubmitting ? \"Gerando contrato...\" : \"Gerar Contrato\"}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {submittedPayload && (\r\n        <Card className=\"bg-neutral-50 border-2 border-neutral-300 p-4 mt-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Code className=\"w-5 h-5 text-neutral-700\" />\r\n              <h4 className=\"text-sm font-semibold text-neutral-900\">Informações técnicas</h4>\r\n            </div>\r\n            <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\r\n          </div>\r\n          <div className=\"max-h-96 overflow-y-auto\">\r\n            <div className=\"text-xs bg-white p-3 rounded border border-neutral-200 space-y-1\">\r\n              {Object.entries(submittedPayload).map(([key, value]) => (\r\n                <div key={key} className=\"flex items-start gap-2\">\r\n                  <span className=\"text-neutral-600 font-medium whitespace-nowrap\">{key}:</span>\r\n                  <span \r\n                    className=\"text-neutral-900 flex-1 cursor-pointer hover:bg-neutral-100 px-1 rounded transition-colors\"\r\n                    title={String(value)}\r\n                    onClick={() => handleCopyValue(value)}\r\n                  >\r\n                    {truncateValue(value)}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4779, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/components/forms/contrato-juridica-form.tsx"],"sourcesContent":["\"use client\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { Upload, ImageIcon, X, CheckCircle2, AlertTriangle, ExternalLink, Loader2, Eraser, Copy, Code } from 'lucide-react'\r\nimport { getDriveLinks } from \"@/lib/drive-links-store\"\r\n\r\nconst numberToWordsFull = (num: number): string => {\r\n  if (num === 0) return \"zero reais\"\r\n\r\n  const unidades = [\"\", \"um\", \"dois\", \"três\", \"quatro\", \"cinco\", \"seis\", \"sete\", \"oito\", \"nove\"]\r\n  const especiais = [\r\n    \"dez\",\r\n    \"onze\",\r\n    \"doze\",\r\n    \"treze\",\r\n    \"quatorze\",\r\n    \"quinze\",\r\n    \"dezesseis\",\r\n    \"dezessete\",\r\n    \"dezoito\",\r\n    \"dezenove\",\r\n  ]\r\n  const dezenas = [\"\", \"\", \"vinte\", \"trinta\", \"quarenta\", \"cinquenta\", \"sessenta\", \"setenta\", \"oitenta\", \"noventa\"]\r\n  const centenas = [\r\n    \"\",\r\n    \"cem\",\r\n    \"duzentos\",\r\n    \"trezentos\",\r\n    \"quatrocentos\",\r\n    \"quinhentos\",\r\n    \"seiscentos\",\r\n    \"setecentos\",\r\n    \"oitocentos\",\r\n    \"novecentos\"\r\n  ]\r\n\r\n  const convertirGrupo = (n: number): string => {\r\n    if (n === 0) return \"\"\r\n    if (n === 100) return \"cem\"\r\n\r\n    let resultado = \"\"\r\n    const c = Math.floor(n / 100)\r\n    const d = Math.floor((n % 100) / 10)\r\n    const u = n % 10\r\n\r\n    if (c > 0) resultado += centenas[c]\r\n    if (d === 1) {\r\n      if (resultado) resultado += \" e \"\r\n      resultado += especiais[u]\r\n      return resultado\r\n    }\r\n    if (d > 1) {\r\n      if (resultado) resultado += \" e \"\r\n      resultado += dezenas[d]\r\n    }\r\n    if (u > 0) {\r\n      if (resultado && d !== 1) resultado += \" e \"\r\n      else if (resultado) resultado += \" \"\r\n      resultado += unidades[u]\r\n    }\r\n\r\n    return resultado\r\n  }\r\n\r\n  const inteiro = Math.floor(num)\r\n  const centavos = Math.round((num - inteiro) * 100)\r\n\r\n  let texto = \"\"\r\n\r\n  // Milhões\r\n  const milhoes = Math.floor(inteiro / 1000000)\r\n  if (milhoes > 0) {\r\n    if (milhoes === 1) {\r\n      texto = \"um milhão\"\r\n    } else {\r\n      texto = convertirGrupo(milhoes) + \" milhões\"\r\n    }\r\n  }\r\n\r\n  // Milhares\r\n  const milhares = Math.floor((inteiro % 1000000) / 1000)\r\n  if (milhares > 0) {\r\n    if (texto) texto += \" e \"\r\n    if (milhares === 1) {\r\n      texto += \"mil\"\r\n    } else {\r\n      texto += convertirGrupo(milhares) + \" mil\"\r\n    }\r\n  }\r\n\r\n  // Centenas\r\n  const resto = inteiro % 1000\r\n  if (resto > 0) {\r\n    if (texto && resto < 100) texto += \" e \"\r\n    else if (texto) texto += \" \"\r\n    texto += convertirGrupo(resto)\r\n  }\r\n\r\n  // Adiciona \"reais\"\r\n  if (inteiro === 1) {\r\n    texto += \" real\"\r\n  } else {\r\n    texto += \" reais\"\r\n  }\r\n\r\n  // Centavos\r\n  if (centavos > 0) {\r\n    texto += \" e \" + convertirGrupo(centavos)\r\n    texto += centavos === 1 ? \" centavo\" : \" centavos\"\r\n  }\r\n\r\n  return texto\r\n}\r\n\r\nconst formatCurrency = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (!numbers) return \"\"\r\n  const amount = Number.parseFloat(numbers) / 100\r\n  return new Intl.NumberFormat(\"pt-BR\", {\r\n    style: \"currency\",\r\n    currency: \"BRL\",\r\n  }).format(amount)\r\n}\r\n\r\nconst parseCurrency = (value: string): number => {\r\n  if (!value) return 0\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return Number.parseFloat(numbers) / 100\r\n}\r\n\r\nconst formatPhone = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  if (numbers.length <= 10) {\r\n    return numbers.replace(/(\\d{2})(\\d{4})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n  }\r\n  return numbers.replace(/(\\d{2})(\\d{5})(\\d{0,4})/, \"($1) $2-$3\").replace(/-$/, \"\")\r\n}\r\n\r\nconst formatCNPJ = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return numbers.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{0,2})/, \"$1.$2.$3/$4-$5\").replace(/-$/, \"\")\r\n}\r\n\r\nconst formatCPF = (value: string): string => {\r\n  const numbers = value.replace(/\\D/g, \"\")\r\n  return numbers.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{0,2})/, \"$1.$2.$3-$4\").replace(/-$/, \"\")\r\n}\r\n\r\ninterface ContratoJuridicaFormProps {\r\n  gerarContrato: boolean\r\n  setGerarContrato: (value: boolean) => void\r\n  tipoContrato: \"fisica\" | \"juridica\" | null\r\n  setTipoContrato: (value: \"fisica\" | \"juridica\" | null) => void\r\n  contratoData: {\r\n    tipo_projeto: string\r\n    nome: string\r\n    telefone: string\r\n    endereco_contrato: string\r\n    cnpj: string\r\n    nome_representante: string\r\n    cpf_representante: string\r\n    telefone_representante: string\r\n    cargo_representante: string\r\n    forma_pagamento: string\r\n    valor_produtos_instalacao: string\r\n    valor_entrada: string\r\n    valor_desconto: string\r\n    quantidade_parcelas: string\r\n    forma_pagamento_parcelas: string\r\n    observacao_pagamento: string\r\n    data_emissao_contrato: string\r\n  }\r\n  setContratoData: (data: any) => void\r\n  errors: Record<string, string>\r\n  setErrors: (errors: any) => void\r\n}\r\n\r\nexport function ContratoJuridicaForm({\r\n  gerarContrato,\r\n  setGerarContrato,\r\n  tipoContrato,\r\n  setTipoContrato,\r\n  contratoData,\r\n  setContratoData,\r\n  errors,\r\n  setErrors,\r\n}: ContratoJuridicaFormProps) {\r\n  const [fotoOrcamentoBase64, setFotoOrcamentoBase64] = useState<string | null>(null)\r\n  const [isDragOver, setIsDragOver] = useState(false)\r\n  const [showSuccessToast, setShowSuccessToast] = useState(false)\r\n  const [showWarningToast, setShowWarningToast] = useState(false)\r\n  const [showMissingFieldsToast, setShowMissingFieldsToast] = useState(false)\r\n  const [showClearFieldsToast, setShowClearFieldsToast] = useState(false)\r\n  const [showCopyToast, setShowCopyToast] = useState(false)\r\n  const [hasImage, setHasImage] = useState(false)\r\n  const [showThumbnailHover, setShowThumbnailHover] = useState(false)\r\n  const [isToday, setIsToday] = useState(true)\r\n  const [quickFillOptions, setQuickFillOptions] = useState({\r\n    guardaCorpo: false,\r\n    corrimao: false,\r\n    box: false,\r\n  })\r\n  const [driveLink, setDriveLink] = useState<string | null>(null)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n  const [showLoadingModal, setShowLoadingModal] = useState(false)\r\n  const [callbackId, setCallbackId] = useState<string | null>(null)\r\n  const [isLoadingComplete, setIsLoadingComplete] = useState(false)\r\n  const [submittedPayload, setSubmittedPayload] = useState<any>(null)\r\n  const [countdown, setCountdown] = useState(10)\r\n\r\n  useEffect(() => {\r\n    const today = new Date()\r\n    const formattedDate = today.toISOString().split('T')[0]\r\n    setContratoData((prev: any) => ({ \r\n      ...prev, \r\n      data_emissao_contrato: formattedDate \r\n    }))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const handlePaste = async (e: ClipboardEvent) => {\r\n      if (hasImage) {\r\n        setShowWarningToast(true)\r\n        return\r\n      }\r\n\r\n      const items = e.clipboardData?.items\r\n      if (!items) return\r\n\r\n      for (const item of items) {\r\n        if (item.type.startsWith('image/')) {\r\n          const file = item.getAsFile()\r\n          if (file) {\r\n            await processImageFile(file)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('paste', handlePaste)\r\n    return () => document.removeEventListener('paste', handlePaste)\r\n  }, [hasImage])\r\n\r\n  useEffect(() => {\r\n    if (showSuccessToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowSuccessToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showSuccessToast])\r\n\r\n  useEffect(() => {\r\n    if (showWarningToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowWarningToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showWarningToast])\r\n\r\n  useEffect(() => {\r\n    if (showMissingFieldsToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowMissingFieldsToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showMissingFieldsToast])\r\n\r\n  useEffect(() => {\r\n    if (showClearFieldsToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowClearFieldsToast(false)\r\n      }, 5000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showClearFieldsToast])\r\n\r\n  useEffect(() => {\r\n    if (showCopyToast) {\r\n      const timer = setTimeout(() => {\r\n        setShowCopyToast(false)\r\n      }, 3000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [showCopyToast])\r\n\r\n\r\n  const handleContratoInputChange = (field: string, value: string) => {\r\n    let formattedValue = value\r\n\r\n    if (field === \"telefone\" || field === \"telefone_representante\") {\r\n      formattedValue = formatPhone(value)\r\n    } else if (field === \"cnpj\") {\r\n      formattedValue = formatCNPJ(value)\r\n    } else if (field === \"cpf_representante\") {\r\n      formattedValue = formatCPF(value)\r\n    } else if (field === \"valor_produtos_instalacao\" || field === \"valor_entrada\" || field === \"valor_desconto\") {\r\n      formattedValue = formatCurrency(value)\r\n    }\r\n\r\n    setContratoData((prev: any) => ({ ...prev, [field]: formattedValue }))\r\n    if (errors[field]) {\r\n      setErrors((prev: any) => ({ ...prev, [field]: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleDateChange = (value: string) => {\r\n    setContratoData((prev: any) => ({ ...prev, data_emissao_contrato: value }))\r\n    \r\n    const today = new Date().toISOString().split('T')[0]\r\n    setIsToday(value === today)\r\n    \r\n    if (errors.data_emissao_contrato) {\r\n      setErrors((prev: any) => ({ ...prev, data_emissao_contrato: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleTodayCheckbox = (checked: boolean) => {\r\n    setIsToday(checked)\r\n    if (checked) {\r\n      const today = new Date().toISOString().split('T')[0]\r\n      setContratoData((prev: any) => ({ ...prev, data_emissao_contrato: today }))\r\n    }\r\n  }\r\n\r\n  const convertToBase64 = (file: File): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.onload = () => {\r\n        if (typeof reader.result === \"string\") {\r\n          resolve(reader.result)\r\n        } else {\r\n          reject(new Error(\"Failed to convert file to base64\"))\r\n        }\r\n      }\r\n      reader.onerror = reject\r\n      reader.readAsDataURL(file)\r\n    })\r\n  }\r\n\r\n  const isImageFile = (file: File): boolean => {\r\n    return file.type === \"image/png\" || file.type === \"image/jpeg\" || file.type === \"image/jpg\"\r\n  }\r\n\r\n  const processImageFile = async (file: File) => {\r\n    if (hasImage) {\r\n      setShowWarningToast(true)\r\n      return\r\n    }\r\n\r\n    if (isImageFile(file)) {\r\n      try {\r\n        const base64 = await convertToBase64(file)\r\n        setFotoOrcamentoBase64(base64)\r\n        setHasImage(true)\r\n        setShowSuccessToast(true)\r\n      } catch (error) {\r\n        console.error(\"Error converting file to base64:\", error)\r\n      }\r\n    } else {\r\n      alert(\"Por favor, selecione apenas arquivos de imagem (PNG, JPG ou JPEG)\")\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      await processImageFile(file)\r\n    }\r\n  }\r\n\r\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(true)\r\n  }\r\n\r\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(false)\r\n  }\r\n\r\n  const handleDrop = async (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragOver(false)\r\n\r\n    const file = e.dataTransfer.files?.[0]\r\n    if (file) {\r\n      await processImageFile(file)\r\n    }\r\n  }\r\n\r\n  const handleRemoveImage = () => {\r\n    setFotoOrcamentoBase64(null)\r\n    setHasImage(false)\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = ''\r\n    }\r\n  }\r\n\r\n  const pollForCallback = async (id: string) => {\r\n    const maxAttempts = 60\r\n    let attempts = 0\r\n\r\n    const poll = async (): Promise<string | null> => {\r\n      if (attempts >= maxAttempts) {\r\n        return null\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`/api/callback/check/${id}`)\r\n        const result = await response.json()\r\n\r\n        if (result.driveLink) {\r\n          return result.driveLink\r\n        }\r\n\r\n        await new Promise(resolve => setTimeout(resolve, 5000))\r\n        attempts++\r\n        return poll()\r\n      } catch (error) {\r\n        console.error(\"[v0] Error polling for callback:\", error)\r\n        await new Promise(resolve => setTimeout(resolve, 5000))\r\n        attempts++\r\n        return poll()\r\n      }\r\n    }\r\n\r\n    return poll()\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const newErrors: Record<string, string> = {}\r\n    if (!contratoData.tipo_projeto) newErrors.tipo_projeto = \"Campo obrigatório\"\r\n    if (!contratoData.nome) newErrors.nome = \"Campo obrigatório\"\r\n    if (!contratoData.telefone) newErrors.telefone = \"Campo obrigatório\"\r\n    if (!contratoData.endereco_contrato) newErrors.endereco_contrato = \"Campo obrigatório\"\r\n    if (!contratoData.cnpj) newErrors.cnpj = \"Campo obrigatório\"\r\n    if (!contratoData.nome_representante) newErrors.nome_representante = \"Campo obrigatório\"\r\n    if (!contratoData.cargo_representante) newErrors.cargo_representante = \"Campo obrigatório\"\r\n    if (!contratoData.cpf_representante) newErrors.cpf_representante = \"Campo obrigatório\"\r\n    if (!contratoData.telefone_representante) newErrors.telefone_representante = \"Campo obrigatório\"\r\n    if (!contratoData.forma_pagamento) newErrors.forma_pagamento = \"Campo obrigatório\"\r\n    if (!contratoData.valor_produtos_instalacao) newErrors.valor_produtos_instalacao = \"Campo obrigatório\"\r\n    if (!contratoData.data_emissao_contrato) newErrors.data_emissao_contrato = \"Campo obrigatório\"\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors)\r\n      \r\n      // Show toast\r\n      setShowMissingFieldsToast(true)\r\n      \r\n      // Find first error field and scroll to it\r\n      const firstErrorField = Object.keys(newErrors)[0]\r\n      const fieldElement = document.getElementById(firstErrorField === 'tipo_projeto' ? 'tipo_projeto' : \r\n                                                   firstErrorField === 'nome' ? 'nome_contrato' :\r\n                                                   firstErrorField === 'cnpj' ? 'cnpj_contrato' :\r\n                                                   firstErrorField === 'endereco_contrato' ? 'endereco_contrato' :\r\n                                                   firstErrorField === 'nome_representante' ? 'nome_representante' :\r\n                                                   firstErrorField === 'cargo_representante' ? 'cargo_representante' :\r\n                                                   firstErrorField === 'cpf_representante' ? 'cpf_representante' :\r\n                                                   firstErrorField === 'telefone_representante' ? 'telefone_representante' :\r\n                                                   firstErrorField === 'forma_pagamento' ? 'forma_pagamento_juridica_Transferência bancária (TED/PIX)' :\r\n                                                   firstErrorField === 'valor_produtos_instalacao' ? 'valor_produtos' :\r\n                                                   'data_emissao_contrato')\r\n      \r\n      if (fieldElement) {\r\n        const elementPosition = fieldElement.getBoundingClientRect().top + window.scrollY\r\n        const offsetPosition = elementPosition - (window.innerHeight / 2) + (fieldElement.offsetHeight / 2)\r\n        \r\n        window.scrollTo({\r\n          top: offsetPosition,\r\n          behavior: 'smooth'\r\n        })\r\n      }\r\n      \r\n      return\r\n    }\r\n\r\n    const valorProdutosNum = parseCurrency(contratoData.valor_produtos_instalacao)\r\n    const valorDescontoNum = parseCurrency(contratoData.valor_desconto)\r\n    const valorFinalNumero = valorProdutosNum - valorDescontoNum\r\n\r\n    const quantidadeParcelas = Number.parseInt(contratoData.quantidade_parcelas) || 1\r\n    const valorParcelasNumero = valorFinalNumero / quantidadeParcelas\r\n\r\n    const valorFinalFormatted = new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valorFinalNumero)\r\n\r\n    const valorParcelasFormatted = new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valorParcelasNumero)\r\n\r\n    const valorTotalExtenso = numberToWordsFull(valorFinalNumero)\r\n    const valorParcelaExtenso = numberToWordsFull(valorParcelasNumero)\r\n\r\n    const payload = {\r\n      tipo_projeto: contratoData.tipo_projeto,\r\n      nome_contratante: contratoData.nome,\r\n      telefone_contratante: contratoData.telefone,\r\n      endereco_contratante: contratoData.endereco_contrato,\r\n      cnpj_contratante: contratoData.cnpj,\r\n      nome_representante: contratoData.nome_representante,\r\n      cpf_representante: contratoData.cpf_representante,\r\n      telefone_representante: contratoData.telefone_representante,\r\n      cargo_representante: contratoData.cargo_representante,\r\n      forma_pagamento_nao_parcelado: contratoData.forma_pagamento,\r\n      valor_produtos_instalacao: contratoData.valor_produtos_instalacao,\r\n      valor_entrada: contratoData.valor_entrada || \"\",\r\n      valor_desconto: contratoData.valor_desconto || \"\",\r\n      quantidade_parcelas: contratoData.quantidade_parcelas || \"1\",\r\n      forma_pagamento_parcelas: contratoData.forma_pagamento_parcelas || \"\",\r\n      observacao_pagamento: contratoData.observacao_pagamento || \"\",\r\n      data_emissao_contrato: contratoData.data_emissao_contrato,\r\n      valor_final: valorFinalFormatted,\r\n      valor_total_extenso: valorTotalExtenso,\r\n      valor_parcelas: valorParcelasFormatted,\r\n      valor_parcela_extenso: valorParcelaExtenso,\r\n      foto_orcamento_base64: fotoOrcamentoBase64 || null,\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    setShowLoadingModal(true)\r\n    setIsLoadingComplete(false)\r\n    setSubmittedPayload(payload)\r\n    setCountdown(10)\r\n\r\n\r\n    try {\r\n      console.log(\"[v0] Enviando contrato pessoa jurídica para n8n...\")\r\n      console.log(\"[v0] Payload:\", JSON.stringify(payload, null, 2))\r\n      \r\n      const response = await fetch(\"/api/contrato-juridica\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n\r\n      const result = await response.json()\r\n      console.log(\"[v0] Resposta da API:\", result)\r\n\r\n      if (!response.ok || !result.success) {\r\n        throw new Error(result.error || \"Erro ao enviar contrato\")\r\n      }\r\n\r\n      console.log(\"[v0] Contrato enviado com sucesso!\")\r\n    } catch (error) {\r\n      console.error(\"[v0] Erro ao enviar contrato:\", error)\r\n      alert(\"❌ Erro ao enviar contrato. Por favor, tente novamente.\") // Changed alert message\r\n    } finally {\r\n      const countdownInterval = setInterval(() => {\r\n        setCountdown((prev) => {\r\n          if (prev <= 1) {\r\n            clearInterval(countdownInterval)\r\n            setIsLoadingComplete(true)\r\n            setIsSubmitting(false)\r\n            return 0\r\n          }\r\n          return prev - 1\r\n        })\r\n      }, 1000)\r\n    }\r\n  }\r\n\r\n  const handleQuickFillChange = (option: 'guardaCorpo' | 'corrimao' | 'box', checked: boolean) => {\r\n    const newOptions = { ...quickFillOptions, [option]: checked }\r\n    setQuickFillOptions(newOptions)\r\n\r\n    const selectedOptions: string[] = []\r\n    if (newOptions.guardaCorpo) selectedOptions.push('Guarda-corpo')\r\n    if (newOptions.corrimao) selectedOptions.push('corrimão')\r\n    if (newOptions.box) selectedOptions.push('box')\r\n\r\n    let tipoProjeto = ''\r\n    if (selectedOptions.length === 1) {\r\n      tipoProjeto = selectedOptions[0]\r\n    } else if (selectedOptions.length === 2) {\r\n      tipoProjeto = `${selectedOptions[0]} e ${selectedOptions[1]}`\r\n    } else if (selectedOptions.length === 3) {\r\n      tipoProjeto = `${selectedOptions[0]}, ${selectedOptions[1]} e ${selectedOptions[2]}`\r\n    }\r\n\r\n    handleContratoInputChange('tipo_projeto', tipoProjeto)\r\n  }\r\n\r\n  const hasAnyFieldContent = () => {\r\n    return (\r\n      contratoData.tipo_projeto ||\r\n      contratoData.nome ||\r\n      contratoData.telefone ||\r\n      contratoData.endereco_contrato ||\r\n      contratoData.cnpj ||\r\n      contratoData.nome_representante ||\r\n      contratoData.cpf_representante ||\r\n      contratoData.telefone_representante ||\r\n      contratoData.cargo_representante ||\r\n      contratoData.forma_pagamento ||\r\n      contratoData.valor_produtos_instalacao ||\r\n      contratoData.valor_entrada ||\r\n      contratoData.valor_desconto ||\r\n      contratoData.quantidade_parcelas ||\r\n      contratoData.forma_pagamento_parcelas ||\r\n      contratoData.observacao_pagamento ||\r\n      hasImage\r\n    )\r\n  }\r\n\r\n  const handleClearAllFields = () => {\r\n    setContratoData({\r\n      tipo_projeto: \"\",\r\n      nome: \"\",\r\n      telefone: \"\",\r\n      endereco_contrato: \"\",\r\n      cnpj: \"\",\r\n      nome_representante: \"\",\r\n      cpf_representante: \"\",\r\n      telefone_representante: \"\",\r\n      cargo_representante: \"\",\r\n      forma_pagamento: \"\",\r\n      valor_produtos_instalacao: \"\",\r\n      valor_entrada: \"\",\r\n      valor_desconto: \"\",\r\n      quantidade_parcelas: \"\",\r\n      forma_pagamento_parcelas: \"\",\r\n      observacao_pagamento: \"\",\r\n      data_emissao_contrato: new Date().toISOString().split('T')[0],\r\n    })\r\n    setFotoOrcamentoBase64(null)\r\n    setHasImage(false)\r\n    setQuickFillOptions({ guardaCorpo: false, corrimao: false, box: false })\r\n    setErrors({})\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = ''\r\n    }\r\n    setShowClearFieldsToast(true)\r\n  }\r\n\r\n  const handleCopyValue = async (value: any) => {\r\n    const textToCopy = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(textToCopy)\r\n      setShowCopyToast(true)\r\n    } catch (err) {\r\n      console.error('Failed to copy:', err)\r\n    }\r\n  }\r\n\r\n  const truncateValue = (value: any): string => {\r\n    const str = typeof value === 'object' && value !== null \r\n      ? JSON.stringify(value) \r\n      : String(value)\r\n    \r\n    return str.length > 30 ? `${str.substring(0, 30)}...` : str\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setShowLoadingModal(false)\r\n  }\r\n\r\n  if (!gerarContrato || tipoContrato !== \"juridica\") {\r\n    return null\r\n  }\r\n\r\n  const DRIVE_LINK = 'https://drive.google.com/drive/u/0/folders/1f_3jWgVene_ZLPT80qJFNbS61SvYAnKr'\r\n\r\n  return (\r\n    <>\r\n      {showLoadingModal && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm\">\r\n          <div className=\"relative bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center gap-6 w-[400px] min-h-[340px]\">\r\n            <button\r\n              onClick={handleCloseModal}\r\n              className=\"absolute top-4 right-4 text-neutral-400 hover:text-neutral-600 transition-colors\"\r\n              aria-label=\"Fechar\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n            \r\n            <div className=\"w-20 h-20 relative flex-shrink-0\">\r\n              <img \r\n                src=\"/google_drive.svg\"\r\n                alt=\"Google Drive\" \r\n                className={`w-full h-full object-contain drop-shadow-lg transition-all duration-500`}\r\n                style={{ filter: !isLoadingComplete ? 'grayscale(100%)' : 'none' }}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col items-center gap-4 flex-1 justify-center\" style={{ minHeight: '140px' }}>\r\n              {!isLoadingComplete ? (\r\n                <>\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n                  <p className=\"text-lg font-semibold text-neutral-900\">Gerando contrato...</p>\r\n                  <p className=\"text-sm text-neutral-600 text-center\">Gerando seu documento em {countdown} segundos</p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <p className=\"text-lg font-semibold text-green-600\">Seu arquivo está pronto</p>\r\n                  <a\r\n                    href={DRIVE_LINK}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n                    </svg>\r\n                    Acessar pasta do arquivo\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showSuccessToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <CheckCircle2 className=\"w-5 h-5 text-green-500\" />\r\n          <span className=\"text-sm font-medium\">Foto de orçamento anexada</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showWarningToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\r\n          <span className=\"text-sm font-medium\">Só é possível enviar uma foto de orçamento.</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showMissingFieldsToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\r\n          <span className=\"text-sm font-medium\">Preencha todos os campos obrigatórios</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showClearFieldsToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Eraser className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Todos os campos foram limpos</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`fixed bottom-6 right-6 z-50 transition-all duration-500 ${\r\n          showCopyToast\r\n            ? \"translate-x-0 opacity-100\"\r\n            : \"translate-x-full opacity-0\"\r\n        }`}\r\n        style={{ maxHeight: '120px' }}\r\n      >\r\n        <div className=\"bg-neutral-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\">\r\n          <Copy className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Valor copiado!</span>\r\n        </div>\r\n      </div>\r\n\r\n      {hasAnyFieldContent() && !showLoadingModal && isLoadingComplete && (\r\n        <button\r\n          onClick={handleClearAllFields}\r\n          className=\"fixed right-6 z-40 bg-neutral-900 hover:bg-neutral-800 text-white px-4 py-3 rounded-lg shadow-lg transition-all duration-200 hover:scale-105 flex items-center gap-2\"\r\n          style={{ bottom: '24px' }}\r\n          aria-label=\"Limpar todos os campos\"\r\n          title=\"Limpar todos os campos\"\r\n        >\r\n          <Eraser className=\"w-5 h-5 text-white\" />\r\n          <span className=\"text-sm font-medium\">Limpar campos</span>\r\n        </button>\r\n      )}\r\n\r\n      <Card className=\"bg-neutral-50 border-2 border-neutral-300 p-4 space-y-4\">\r\n        <h3 className=\"text-base font-semibold text-neutral-900\">Dados do Contrato - Pessoa Jurídica</h3>\r\n\r\n        {driveLink && (\r\n          <div className=\"bg-green-50 border-2 border-green-500 rounded-lg p-4\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <CheckCircle2 className=\"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5\" />\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"text-sm font-semibold text-green-900 mb-2\">Contrato gerado com sucesso!</h4>\r\n                <p className=\"text-sm text-green-800 mb-3\">O contrato foi enviado e está disponível na pasta:</p>\r\n                <a\r\n                  href={driveLink}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors\"\r\n                >\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n                  </svg>\r\n                  Acessar pasta\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-4 pt-2\">\r\n          <h4 className=\"text-sm font-bold text-neutral-900 uppercase tracking-wide\">Dados da empresa</h4>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"tipo_projeto\" className=\"text-sm font-medium text-neutral-800\">\r\n              Tipo de projeto <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"tipo_projeto\"\r\n              value={contratoData.tipo_projeto}\r\n              onChange={(e) => {\r\n                handleContratoInputChange(\"tipo_projeto\", e.target.value)\r\n                setQuickFillOptions({ guardaCorpo: false, corrimao: false, box: false })\r\n              }}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.tipo_projeto ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Ex.: Guarda-corpo em inox, corrimão, etc.\"\r\n            />\r\n            {errors.tipo_projeto && <p className=\"text-xs text-red-600\">{errors.tipo_projeto}</p>}\r\n            \r\n            <div className=\"flex items-center gap-4 pt-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Checkbox\r\n                  id=\"quick_guardacorpo_juridica\"\r\n                  checked={quickFillOptions.guardaCorpo}\r\n                  onCheckedChange={(checked) => handleQuickFillChange('guardaCorpo', checked as boolean)}\r\n                  className=\"border-2 border-neutral-500\"\r\n                />\r\n                <Label \r\n                  htmlFor=\"quick_guardacorpo_juridica\" \r\n                  className=\"text-sm text-neutral-800 cursor-pointer\"\r\n                >\r\n                  Guarda-corpo\r\n                </Label>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <Checkbox\r\n                  id=\"quick_corrimao_juridica\"\r\n                  checked={quickFillOptions.corrimao}\r\n                  onCheckedChange={(checked) => handleQuickFillChange('corrimao', checked as boolean)}\r\n                  className=\"border-2 border-neutral-500\"\r\n                />\r\n                <Label \r\n                  htmlFor=\"quick_corrimao_juridica\" \r\n                  className=\"text-sm text-neutral-800 cursor-pointer\"\r\n                >\r\n                  Corrimão\r\n                </Label>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <Checkbox\r\n                  id=\"quick_box_juridica\"\r\n                  checked={quickFillOptions.box}\r\n                  onCheckedChange={(checked) => handleQuickFillChange('box', checked as boolean)}\r\n                  className=\"border-2 border-neutral-500\"\r\n                />\r\n                <Label \r\n                  htmlFor=\"quick_box_juridica\" \r\n                  className=\"text-sm text-neutral-800 cursor-pointer\"\r\n                >\r\n                  Box\r\n                </Label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"nome_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n              Razão Social <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"nome_contrato\"\r\n              value={contratoData.nome}\r\n              onChange={(e) => handleContratoInputChange(\"nome\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.nome ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Razão social da empresa\"\r\n            />\r\n            {errors.nome && <p className=\"text-xs text-red-600\">{errors.nome}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"telefone_contrato_juridica\" className=\"text-sm font-medium text-neutral-800\">\r\n              Telefone <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"telefone_contrato_juridica\"\r\n              value={contratoData.telefone}\r\n              onChange={(e) => handleContratoInputChange(\"telefone\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.telefone ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"(51) 99999-9999\"\r\n              maxLength={15}\r\n            />\r\n            {errors.telefone && <p className=\"text-xs text-red-600\">{errors.telefone}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cnpj_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n              CNPJ <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"cnpj_contrato\"\r\n              value={contratoData.cnpj}\r\n              onChange={(e) => handleContratoInputChange(\"cnpj\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.cnpj ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"00.000.000/0000-00\"\r\n              maxLength={18}\r\n            />\r\n            {errors.cnpj && <p className=\"text-xs text-red-600\">{errors.cnpj}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"endereco_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n              Endereço <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"endereco_contrato\"\r\n              value={contratoData.endereco_contrato}\r\n              onChange={(e) => handleContratoInputChange(\"endereco_contrato\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.endereco_contrato ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Rua, número, bairro, cidade\"\r\n            />\r\n            {errors.endereco_contrato && <p className=\"text-xs text-red-600\">{errors.endereco_contrato}</p>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-4 pt-4 border-t-2 border-neutral-300\">\r\n          <h4 className=\"text-sm font-bold text-neutral-900 uppercase tracking-wide\">Dados do representante legal</h4>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"nome_representante\" className=\"text-sm font-medium text-neutral-800\">\r\n              Nome do representante <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"nome_representante\"\r\n              value={contratoData.nome_representante}\r\n              onChange={(e) => handleContratoInputChange(\"nome_representante\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.nome_representante ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Nome completo do representante\"\r\n            />\r\n            {errors.nome_representante && <p className=\"text-xs text-red-600\">{errors.nome_representante}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cargo_representante\" className=\"text-sm font-medium text-neutral-800\">\r\n              Cargo <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"cargo_representante\"\r\n              value={contratoData.cargo_representante}\r\n              onChange={(e) => handleContratoInputChange(\"cargo_representante\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.cargo_representante ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"Ex: Diretor, Gerente, Sócio\"\r\n            />\r\n            {errors.cargo_representante && <p className=\"text-xs text-red-600\">{errors.cargo_representante}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cpf_representante\" className=\"text-sm font-medium text-neutral-800\">\r\n              CPF <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"cpf_representante\"\r\n              value={contratoData.cpf_representante}\r\n              onChange={(e) => handleContratoInputChange(\"cpf_representante\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.cpf_representante ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"000.000.000-00\"\r\n              maxLength={14}\r\n            />\r\n            {errors.cpf_representante && <p className=\"text-xs text-red-600\">{errors.cpf_representante}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"telefone_representante\" className=\"text-sm font-medium text-neutral-800\">\r\n              Telefone <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"telefone_representante\"\r\n              value={contratoData.telefone_representante}\r\n              onChange={(e) => handleContratoInputChange(\"telefone_representante\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.telefone_representante ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"(51) 99999-9999\"\r\n              maxLength={15}\r\n            />\r\n            {errors.telefone_representante && <p className=\"text-xs text-red-600\">{errors.telefone_representante}</p>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-4 pt-4 border-t-2 border-neutral-300\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"data_emissao_contrato\" className=\"text-sm font-medium text-neutral-800\">\r\n              Data de Emissão do Contrato <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <div className=\"flex items-center gap-3 max-w-xs\">\r\n              <Input\r\n                id=\"data_emissao_contrato\"\r\n                type=\"date\"\r\n                value={contratoData.data_emissao_contrato}\r\n                onChange={(e) => handleDateChange(e.target.value)}\r\n                className={`flex-1 bg-white text-neutral-900 border-2 ${\r\n                  errors.data_emissao_contrato ? \"border-red-500\" : \"border-neutral-400\"\r\n                } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              />\r\n              <div className=\"flex items-center gap-2\">\r\n                <Checkbox\r\n                  id=\"today_checkbox\"\r\n                  checked={isToday}\r\n                  onCheckedChange={handleTodayCheckbox}\r\n                  className=\"border-2 border-neutral-500\"\r\n                />\r\n                <Label \r\n                  htmlFor=\"today_checkbox\" \r\n                  className=\"text-sm text-neutral-800 cursor-pointer whitespace-nowrap\"\r\n                >\r\n                  Hoje\r\n                </Label>\r\n              </div>\r\n            </div>\r\n            {errors.data_emissao_contrato && <p className=\"text-xs text-red-600\">{errors.data_emissao_contrato}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-sm font-medium text-neutral-800\">\r\n              Forma Pagamento (Não parcelado) <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <RadioGroup\r\n              value={contratoData.forma_pagamento}\r\n              onValueChange={(value) => handleContratoInputChange(\"forma_pagamento\", value)}\r\n            >\r\n              <div className=\"space-y-2\">\r\n                {[\"Transferência bancária (TED/PIX)\", \"Boleto bancário\", \"Dinheiro\"].map((forma) => (\r\n                  <div key={forma} className=\"flex items-center gap-3\">\r\n                    <RadioGroupItem value={forma} id={`forma_pagamento_juridica_${forma}`} className=\"border-2 border-neutral-500\" />\r\n                    <Label htmlFor={`forma_pagamento_juridica_${forma}`} className=\"cursor-pointer text-sm text-neutral-800\">\r\n                      {forma}\r\n                    </Label>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </RadioGroup>\r\n            {errors.forma_pagamento && <p className=\"text-xs text-red-600\">{errors.forma_pagamento}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"valor_produtos\" className=\"text-sm font-medium text-neutral-800\">\r\n              Valor produtos e instalação <span className=\"text-red-600\">*</span>\r\n            </Label>\r\n            <Input\r\n              id=\"valor_produtos\"\r\n              value={contratoData.valor_produtos_instalacao}\r\n              onChange={(e) => handleContratoInputChange(\"valor_produtos_instalacao\", e.target.value)}\r\n              className={`w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 ${\r\n                errors.valor_produtos_instalacao ? \"border-red-500\" : \"border-neutral-400\"\r\n              } focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900`}\r\n              placeholder=\"R$ 0,00\"\r\n            />\r\n            {errors.valor_produtos_instalacao && <p className=\"text-xs text-red-600\">{errors.valor_produtos_instalacao}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"valor_entrada\" className=\"text-sm font-medium text-neutral-800\">\r\n              Valor Entrada\r\n            </Label>\r\n            <Input\r\n              id=\"valor_entrada\"\r\n              value={contratoData.valor_entrada}\r\n              onChange={(e) => handleContratoInputChange(\"valor_entrada\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"R$ 0,00\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"valor_desconto\" className=\"text-sm font-medium text-neutral-800\">\r\n              Valor Desconto\r\n            </Label>\r\n            <Input\r\n              id=\"valor_desconto\"\r\n              value={contratoData.valor_desconto}\r\n              onChange={(e) => handleContratoInputChange(\"valor_desconto\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"R$ 0,00\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"quantidade_parcelas\" className=\"text-sm font-medium text-neutral-800\">\r\n              Quantidade Parcelas (Caso seja parcelado)\r\n            </Label>\r\n            <Input\r\n              id=\"quantidade_parcelas\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              value={contratoData.quantidade_parcelas}\r\n              onChange={(e) => handleContratoInputChange(\"quantidade_parcelas\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900\"\r\n              placeholder=\"Ex.: 10\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-sm font-medium text-neutral-800\">Forma Pagamento das Parcelas</Label>\r\n            <RadioGroup\r\n              value={contratoData.forma_pagamento_parcelas}\r\n              onValueChange={(value) => handleContratoInputChange(\"forma_pagamento_parcelas\", value)}\r\n            >\r\n              <div className=\"space-y-2\">\r\n                {[\"Cartão de crédito\", \"Transferência bancária (TED/PIX)\", \"Boleto bancário\"].map((forma) => (\r\n                  <div key={forma} className=\"flex items-center gap-3\">\r\n                    <RadioGroupItem\r\n                      value={forma}\r\n                      id={`forma_pagamento_parcelas_juridica_${forma}`}\r\n                      className=\"border-2 border-neutral-500\"\r\n                    />\r\n                    <Label\r\n                      htmlFor={`forma_pagamento_parcelas_juridica_${forma}`}\r\n                      className=\"cursor-pointer text-sm text-neutral-800\"\r\n                    >\r\n                      {forma}\r\n                    </Label>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </RadioGroup>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"observacao_pagamento\" className=\"text-sm font-medium text-neutral-800\">\r\n              Observação Sobre Pagamento\r\n            </Label>\r\n            <Textarea\r\n              id=\"observacao_pagamento\"\r\n              rows={3}\r\n              value={contratoData.observacao_pagamento}\r\n              onChange={(e) => handleContratoInputChange(\"observacao_pagamento\", e.target.value)}\r\n              className=\"w-full bg-white text-neutral-900 placeholder:text-neutral-400 border-2 border-neutral-400 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 resize-none\"\r\n              placeholder=\"Alguma observação adicional sobre o pagamento...\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <Label className=\"text-sm font-medium text-neutral-800\">Foto do Orçamento</Label>\r\n          <div className={`transition-opacity duration-300 ${hasImage ? 'opacity-0 h-0 overflow-hidden' : 'opacity-100'}`}>\r\n            <div\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n              className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\r\n                isDragOver\r\n                  ? \"border-neutral-900 bg-neutral-100\"\r\n                  : \"border-neutral-400 bg-white hover:border-neutral-600\"\r\n              }`}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <Upload className=\"w-10 h-10 text-neutral-400\" />\r\n                <p className=\"text-sm text-neutral-600\">Arraste e solte a imagem aqui</p>\r\n                <p className=\"text-xs text-neutral-500\">ou pressione <kbd className=\"px-2 py-1 bg-neutral-200 rounded text-xs font-mono\">Ctrl+V</kbd> para colar</p>\r\n                <p className=\"text-xs text-neutral-400\">PNG, JPG ou JPEG</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex gap-3 mt-3\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => fileInputRef.current?.click()}\r\n                className=\"flex-1 border-2 border-neutral-400 hover:border-neutral-900 hover:bg-neutral-100 flex items-center gap-2\"\r\n              >\r\n                <ImageIcon className=\"w-4 h-4\" />\r\n                Selecionar Imagem\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {hasImage && (\r\n            <div \r\n              className=\"relative inline-block transition-opacity duration-300\"\r\n              onMouseEnter={() => setShowThumbnailHover(true)}\r\n              onMouseLeave={() => setShowThumbnailHover(false)}\r\n            >\r\n              <div className=\"flex items-center gap-3 bg-neutral-200 rounded-lg px-3 py-2 cursor-pointer group\">\r\n                <ImageIcon className=\"w-6 h-6 text-neutral-500\" />\r\n                <span className=\"text-sm text-neutral-700 font-medium\">Foto do orçamento</span>\r\n                {showThumbnailHover && (\r\n                  <div \r\n                    onClick={handleRemoveImage}\r\n                    className=\"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center transition-opacity\"\r\n                  >\r\n                    <X className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"image/png,image/jpeg,image/jpg\"\r\n            onChange={handleFileUpload}\r\n            className=\"hidden\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"pt-4\">\r\n          <Button\r\n            onClick={handleSubmit}\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-neutral-900 hover:bg-neutral-800 text-white font-medium py-2 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSubmitting ? \"Gerando contrato...\" : \"Gerar Contrato\"}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {submittedPayload && (\r\n        <Card className=\"bg-neutral-50 border-2 border-neutral-300 p-4 mt-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Code className=\"w-5 h-5 text-neutral-700\" />\r\n              <h4 className=\"text-sm font-semibold text-neutral-900\">Informações técnicas</h4>\r\n            </div>\r\n            <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\r\n          </div>\r\n          <div className=\"max-h-96 overflow-y-auto\">\r\n            <div className=\"text-xs bg-white p-3 rounded border border-neutral-200 space-y-1\">\r\n              {Object.entries(submittedPayload).map(([key, value]) => (\r\n                <div key={key} className=\"flex items-start gap-2\">\r\n                  <span className=\"text-neutral-600 font-medium whitespace-nowrap\">{key}:</span>\r\n                  <span \r\n                    className=\"text-neutral-900 flex-1 cursor-pointer hover:bg-neutral-100 px-1 rounded transition-colors\"\r\n                    title={String(value)}\r\n                    onClick={() => handleCopyValue(value)}\r\n                  >\r\n                    {truncateValue(value)}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7073, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jarvis/OneDrive/%C3%81rea%20de%20Trabalho/recent%20front/frontend-ii/app/%28app%29/gerar-documento/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { OrdemForm } from \"@/components/forms/ordem-form\"\r\nimport { ContratoForm } from \"@/components/forms/contrato-form\"\r\nimport { ContratoJuridicaForm } from \"@/components/forms/contrato-juridica-form\"\r\nimport type { OrdemDeServico } from \"@/lib/types\"\r\n\r\nexport default function GerarDocumentoPage() {\r\n  const [gerarContrato, setGerarContrato] = useState(false)\r\n  const [gerarOrdem, setGerarOrdem] = useState(false)\r\n  const [gerarAmbos, setGerarAmbos] = useState(false)\r\n  const [showPreview, setShowPreview] = useState(false)\r\n  const [previewData, setPreviewData] = useState<OrdemDeServico | null>(null)\r\n\r\n  const [tipoContrato, setTipoContrato] = useState<\"fisica\" | \"juridica\" | null>(null)\r\n  \r\n  const initialContratoFisicaData = {\r\n    tipo_projeto: \"\",\r\n    nome: \"\",\r\n    telefone: \"\",\r\n    endereco_contrato: \"\",\r\n    cpf: \"\",\r\n    forma_pagamento: \"\",\r\n    valor_produtos_instalacao: \"\",\r\n    valor_entrada: \"\",\r\n    valor_desconto: \"\",\r\n    quantidade_parcelas: \"\",\r\n    forma_pagamento_parcelas: \"\",\r\n    observacao_pagamento: \"\",\r\n    data_emissao_contrato: \"\",\r\n  }\r\n  \r\n  const initialContratoJuridicaData = {\r\n    tipo_projeto: \"\",\r\n    nome: \"\",\r\n    telefone: \"\",\r\n    endereco_contrato: \"\",\r\n    cnpj: \"\",\r\n    nome_representante: \"\",\r\n    cpf_representante: \"\",\r\n    telefone_representante: \"\",\r\n    cargo_representante: \"\",\r\n    forma_pagamento: \"\",\r\n    valor_produtos_instalacao: \"\",\r\n    valor_entrada: \"\",\r\n    valor_desconto: \"\",\r\n    quantidade_parcelas: \"\",\r\n    forma_pagamento_parcelas: \"\",\r\n    observacao_pagamento: \"\",\r\n    data_emissao_contrato: \"\",\r\n  }\r\n  \r\n  const [contratoData, setContratoData] = useState(initialContratoFisicaData)\r\n  const [contratoJuridicaData, setContratoJuridicaData] = useState(initialContratoJuridicaData)\r\n  \r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [errorsJuridica, setErrorsJuridica] = useState<Record<string, string>>({})\r\n\r\n  const handleCheckboxChange = (type: \"contrato\" | \"ordem\" | \"ambos\") => {\r\n    if (type === \"contrato\") {\r\n      setGerarContrato(!gerarContrato)\r\n      setGerarOrdem(false)\r\n      setGerarAmbos(false)\r\n      if (gerarContrato) {\r\n        setTipoContrato(null)\r\n      }\r\n    } else if (type === \"ordem\") {\r\n      setGerarContrato(false)\r\n      setGerarOrdem(!gerarOrdem)\r\n      setGerarAmbos(false)\r\n    } else {\r\n      setGerarContrato(false)\r\n      setGerarOrdem(false)\r\n      setGerarAmbos(!gerarAmbos)\r\n    }\r\n  }\r\n\r\n  const handleTipoContratoChange = (tipo: \"fisica\" | \"juridica\" | null) => {\r\n    if (tipo === \"fisica\") {\r\n      setContratoJuridicaData(initialContratoJuridicaData)\r\n      setErrorsJuridica({})\r\n    } else if (tipo === \"juridica\") {\r\n      setContratoData(initialContratoFisicaData)\r\n      setErrors({})\r\n    }\r\n    setTipoContrato(tipo)\r\n  }\r\n\r\n  const handleSave = (data: OrdemDeServico) => {\r\n    console.log(\"[v0] Ordem de Serviço:\", JSON.stringify(data, null, 2))\r\n    setPreviewData(data)\r\n    setShowPreview(true)\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   if (!isAuthenticated()) {\r\n  //     router.push('/login')\r\n  //   }\r\n  // }, [router])\r\n\r\n  // if (!isAuthenticated()) {\r\n  //   return null\r\n  // }\r\n\r\n  return (\r\n    <div className=\"p-8 bg-neutral-50 min-h-screen\">\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Gerar Documento</h1>\r\n          <p className=\"text-neutral-600 mt-2\">Selecione o tipo de documento que deseja gerar</p>\r\n        </div>\r\n\r\n        <Card className=\"p-6 border-2 border-neutral-300\">\r\n          <h2 className=\"text-lg font-semibold mb-4\">Tipo de Documento</h2>\r\n          <div className=\"flex flex-wrap gap-6\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"contrato\"\r\n                checked={gerarContrato}\r\n                onCheckedChange={() => handleCheckboxChange(\"contrato\")}\r\n                className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n              />\r\n              <Label htmlFor=\"contrato\" className=\"cursor-pointer text-sm text-neutral-800\">\r\n                Gerar Contrato\r\n              </Label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"ordem\"\r\n                checked={gerarOrdem}\r\n                onCheckedChange={() => handleCheckboxChange(\"ordem\")}\r\n                className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n              />\r\n              <Label htmlFor=\"ordem\" className=\"cursor-pointer text-sm text-neutral-800\">\r\n                Gerar Ordem\r\n              </Label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"ambos\"\r\n                checked={gerarAmbos}\r\n                onCheckedChange={() => handleCheckboxChange(\"ambos\")}\r\n                className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n              />\r\n              <Label htmlFor=\"ambos\" className=\"cursor-pointer text-sm text-neutral-800\">\r\n                Gerar Ambos\r\n              </Label>\r\n            </div>\r\n          </div>\r\n\r\n          {gerarContrato && (\r\n            <div className=\"mt-6 pt-6 border-t border-neutral-300\">\r\n              <h3 className=\"text-sm font-medium mb-3 text-neutral-700\">Tipo de Pessoa</h3>\r\n              <div className=\"flex flex-wrap gap-6\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id=\"pessoa-fisica\"\r\n                    checked={tipoContrato === \"fisica\"}\r\n                    onCheckedChange={(checked) => {\r\n                      handleTipoContratoChange(checked ? \"fisica\" : null)\r\n                    }}\r\n                    className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                  />\r\n                  <Label htmlFor=\"pessoa-fisica\" className=\"cursor-pointer text-sm text-neutral-800\">\r\n                    Pessoa Física\r\n                  </Label>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id=\"pessoa-juridica\"\r\n                    checked={tipoContrato === \"juridica\"}\r\n                    onCheckedChange={(checked) => {\r\n                      handleTipoContratoChange(checked ? \"juridica\" : null)\r\n                    }}\r\n                    className=\"border-2 border-neutral-500 data-[state=checked]:bg-neutral-900 data-[state=checked]:border-neutral-900\"\r\n                  />\r\n                  <Label htmlFor=\"pessoa-juridica\" className=\"cursor-pointer text-sm text-neutral-800\">\r\n                    Pessoa Jurídica\r\n                  </Label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Card>\r\n\r\n        {gerarContrato && tipoContrato && (\r\n          <>\r\n            {tipoContrato === \"fisica\" && (\r\n              <ContratoForm\r\n                gerarContrato={true}\r\n                setGerarContrato={setGerarContrato}\r\n                tipoContrato={tipoContrato}\r\n                setTipoContrato={setTipoContrato}\r\n                contratoData={contratoData}\r\n                setContratoData={setContratoData}\r\n                errors={errors}\r\n                setErrors={setErrors}\r\n              />\r\n            )}\r\n            \r\n            {tipoContrato === \"juridica\" && (\r\n              <ContratoJuridicaForm\r\n                gerarContrato={true}\r\n                setGerarContrato={setGerarContrato}\r\n                tipoContrato={tipoContrato}\r\n                setTipoContrato={setTipoContrato}\r\n                contratoData={contratoJuridicaData}\r\n                setContratoData={setContratoJuridicaData}\r\n                errors={errorsJuridica}\r\n                setErrors={setErrorsJuridica}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {gerarOrdem && <OrdemForm onSave={handleSave} />}\r\n\r\n        {gerarAmbos && (\r\n          <Card className=\"p-6 border-2 border-neutral-300\">\r\n            <h2 className=\"text-lg font-semibold mb-2\">Gerar Ambos</h2>\r\n            <p className=\"text-muted-foreground\">Funcionalidade em desenvolvimento...</p>\r\n          </Card>\r\n        )}\r\n\r\n        {showPreview && previewData && (\r\n          <Card className=\"p-6 bg-white border-2 border-blue-500\">\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold\">Preview do Payload JSON</h2>\r\n                <p className=\"text-sm text-neutral-600\">Dados da ordem de serviço gerada</p>\r\n              </div>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={() => setShowPreview(false)}>\r\n                Fechar\r\n              </Button>\r\n            </div>\r\n            <pre className=\"bg-neutral-900 text-neutral-100 p-4 rounded-lg overflow-auto max-h-96 text-sm\">\r\n              {JSON.stringify(previewData, null, 2)}\r\n            </pre>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}